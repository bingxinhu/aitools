{"remainingRequest":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/components/TopNav/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/components/TopNav/index.vue","mtime":1669257735071},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/babel.config.js","mtime":1669257735055},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1670489673015},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1670489672091}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvY3hocGMvd29ya3Jvb3RfbGZzL2dvYWRtaW4vZ28tYWRtaW4tdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBjb25zdGFudFJvdXRlcyB9IGZyb20gJ0Avcm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDpobbpg6jmoI/liJ3lp4vmlbAKICAgICAgdmlzaWJsZU51bWJlcjogNSwKICAgICAgLy8g5piv5ZCm5Li66aaW5qyh5Yqg6L29CiAgICAgIGlzRnJpc3Q6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOmhtumDqOaYvuekuuiPnOWNlQogICAgdG9wTWVudXM6IGZ1bmN0aW9uIHRvcE1lbnVzKCkgewogICAgICByZXR1cm4gdGhpcy5yb3V0ZXJzLm1hcChmdW5jdGlvbiAobWVudSkgewogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1lbnUpLCB7fSwgewogICAgICAgICAgY2hpbGRyZW46IHVuZGVmaW5lZAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmiYDmnInnmoTot6/nlLHkv6Hmga8KICAgIHJvdXRlcnM6IGZ1bmN0aW9uIHJvdXRlcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wZXJtaXNzaW9uLnRvcGJhclJvdXRlcnM7CiAgICB9LAogICAgLy8g6K6+572u5a2Q6Lev55SxCiAgICBjaGlsZHJlbk1lbnVzOiBmdW5jdGlvbiBjaGlsZHJlbk1lbnVzKCkgewogICAgICB2YXIgY2hpbGRyZW5NZW51cyA9IFtdOwogICAgICB0aGlzLnJvdXRlcnMubWFwKGZ1bmN0aW9uIChyb3V0ZXIpIHsKICAgICAgICBmb3IgKHZhciBpdGVtIGluIHJvdXRlci5jaGlsZHJlbikgewogICAgICAgICAgaWYgKHJvdXRlci5jaGlsZHJlbltpdGVtXS5wYXJlbnRQYXRoID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcm91dGVyLmNoaWxkcmVuW2l0ZW1dLnBhcmVudFBhdGggPSByb3V0ZXIucGF0aDsKICAgICAgICAgIH0KICAgICAgICAgIGNoaWxkcmVuTWVudXMucHVzaChyb3V0ZXIuY2hpbGRyZW5baXRlbV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBjb25zdGFudFJvdXRlcy5jb25jYXQoY2hpbGRyZW5NZW51cyk7CiAgICB9LAogICAgLy8g6buY6K6k5r+A5rS755qE6I+c5Y2VCiAgICBhY3RpdmVNZW51OiBmdW5jdGlvbiBhY3RpdmVNZW51KCkgewogICAgICB2YXIgcGF0aCA9IHRoaXMuJHJvdXRlLnBhdGg7CiAgICAgIHZhciBhY3RpdmVQYXRoID0gdGhpcy5yb3V0ZXJzWzBdLnBhdGg7CiAgICAgIGlmIChwYXRoLmxhc3RJbmRleE9mKCcvJykgPiAwKSB7CiAgICAgICAgdmFyIHRtcFBhdGggPSBwYXRoLnN1YnN0cmluZygxLCBwYXRoLmxlbmd0aCk7CiAgICAgICAgYWN0aXZlUGF0aCA9ICcvJyArIHRtcFBhdGguc3Vic3RyaW5nKDAsIHRtcFBhdGguaW5kZXhPZignLycpKTsKICAgICAgfSBlbHNlIGlmIChwYXRoID09PSAnL2luZGV4JyB8fCBwYXRoID09PSAnJykgewogICAgICAgIGlmICghdGhpcy5pc0ZyaXN0KSB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdnVlL25vLXNpZGUtZWZmZWN0cy1pbi1jb21wdXRlZC1wcm9wZXJ0aWVzCiAgICAgICAgICB0aGlzLmlzRnJpc3QgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhY3RpdmVQYXRoID0gJ2luZGV4JzsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5hY3RpdmVSb3V0ZXMoYWN0aXZlUGF0aCk7CiAgICAgIHJldHVybiBhY3RpdmVQYXRoOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2V0VmlzaWJsZU51bWJlcigpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5qC55o2u5a695bqm6K6h566X6K6+572u5pi+56S65qCP5pWwCiAgICBzZXRWaXNpYmxlTnVtYmVyOiBmdW5jdGlvbiBzZXRWaXNpYmxlTnVtYmVyKCkgewogICAgICB2YXIgd2lkdGggPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gMjAwOwogICAgICB2YXIgZWxXaWR0aCA9IHRoaXMuJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOwogICAgICB2YXIgbWVudUl0ZW1Ob2RlcyA9IHRoaXMuJGVsLmNoaWxkcmVuOwogICAgICB2YXIgbWVudVdpZHRoID0gQXJyYXkuZnJvbShtZW51SXRlbU5vZGVzKS5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDsKICAgICAgfSk7CiAgICAgIHRoaXMudmlzaWJsZU51bWJlciA9IChwYXJzZUludCh3aWR0aCAtIGVsV2lkdGgpIC8gcGFyc2VJbnQobWVudVdpZHRoKSkudG9GaXhlZCgwKTsKICAgIH0sCiAgICAvLyDoj5zljZXpgInmi6nkuovku7YKICAgIGhhbmRsZVNlbGVjdDogZnVuY3Rpb24gaGFuZGxlU2VsZWN0KGtleSwga2V5UGF0aCkgewogICAgICBpZiAoa2V5LmluZGV4T2YoJ2h0dHA6Ly8nKSAhPT0gLTEgfHwga2V5LmluZGV4T2YoJ2h0dHBzOi8vJykgIT09IC0xKSB7CiAgICAgICAgLy8gaHR0cChzKTovLyDot6/lvoTmlrDnqpflj6PmiZPlvIAKICAgICAgICB3aW5kb3cub3BlbihrZXksICdfYmxhbmsnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFjdGl2ZVJvdXRlcyhrZXkpOwogICAgICB9CiAgICB9LAogICAgLy8g5b2T5YmN5r+A5rS755qE6Lev55SxCiAgICBhY3RpdmVSb3V0ZXM6IGZ1bmN0aW9uIGFjdGl2ZVJvdXRlcyhrZXkpIHsKICAgICAgdmFyIHJvdXRlcyA9IFtdOwogICAgICBpZiAodGhpcy5jaGlsZHJlbk1lbnVzICYmIHRoaXMuY2hpbGRyZW5NZW51cy5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5jaGlsZHJlbk1lbnVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKGtleSA9PT0gaXRlbS5wYXJlbnRQYXRoIHx8IGtleSA9PT0gJ2luZGV4JyAmJiBpdGVtLnBhdGggPT09ICcnKSB7CiAgICAgICAgICAgIHJvdXRlcy5wdXNoKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncGVybWlzc2lvbi9TRVRfU0lERUJBUl9ST1VURVJTJywgcm91dGVzKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-menu\n    :default-active=\"activeMenu\"\n    mode=\"horizontal\"\n    @select=\"handleSelect\"\n  >\n    <template v-for=\"(item, index) in topMenus\">\n      <el-menu-item\n        v-if=\"index < visibleNumber\"\n        :key=\"index\"\n        :index=\"item.path\"\n      ><svg-icon :icon-class=\"item.meta.icon\" />\n        {{ item.meta.title }}</el-menu-item>\n    </template>\n\n    <!-- 顶部菜单超出数量折叠 -->\n    <el-submenu v-if=\"topMenus.length > visibleNumber\" index=\"more\">\n      <template slot=\"title\">更多菜单</template>\n      <template v-for=\"(item, index) in topMenus\">\n        <el-menu-item\n          v-if=\"index >= visibleNumber\"\n          :key=\"index\"\n          :index=\"item.path\"\n        ><svg-icon :icon-class=\"item.meta.icon\" />\n          {{ item.meta.title }}</el-menu-item>\n      </template>\n    </el-submenu>\n  </el-menu>\n</template>\n\n<script>\nimport { constantRoutes } from '@/router'\n\nexport default {\n  data() {\n    return {\n      // 顶部栏初始数\n      visibleNumber: 5,\n      // 是否为首次加载\n      isFrist: false\n    }\n  },\n  computed: {\n    // 顶部显示菜单\n    topMenus() {\n      return this.routers.map((menu) => ({\n        ...menu,\n        children: undefined\n      }))\n    },\n    // 所有的路由信息\n    routers() {\n      return this.$store.state.permission.topbarRouters\n    },\n    // 设置子路由\n    childrenMenus() {\n      var childrenMenus = []\n      this.routers.map((router) => {\n        for (var item in router.children) {\n          if (router.children[item].parentPath === undefined) {\n            router.children[item].parentPath = router.path\n          }\n          childrenMenus.push(router.children[item])\n        }\n      })\n      return constantRoutes.concat(childrenMenus)\n    },\n    // 默认激活的菜单\n    activeMenu() {\n      const path = this.$route.path\n      let activePath = this.routers[0].path\n      if (path.lastIndexOf('/') > 0) {\n        const tmpPath = path.substring(1, path.length)\n        activePath = '/' + tmpPath.substring(0, tmpPath.indexOf('/'))\n      } else if (path === '/index' || path === '') {\n        if (!this.isFrist) {\n          // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n          this.isFrist = true\n        } else {\n          activePath = 'index'\n        }\n      }\n      this.activeRoutes(activePath)\n      return activePath\n    }\n  },\n  mounted() {\n    this.setVisibleNumber()\n  },\n  methods: {\n    // 根据宽度计算设置显示栏数\n    setVisibleNumber() {\n      const width = document.body.getBoundingClientRect().width - 200\n      const elWidth = this.$el.getBoundingClientRect().width\n      const menuItemNodes = this.$el.children\n      const menuWidth = Array.from(menuItemNodes).map(\n        (i) => i.getBoundingClientRect().width\n      )\n      this.visibleNumber = (\n        parseInt(width - elWidth) / parseInt(menuWidth)\n      ).toFixed(0)\n    },\n    // 菜单选择事件\n    handleSelect(key, keyPath) {\n      if (key.indexOf('http://') !== -1 || key.indexOf('https://') !== -1) {\n        // http(s):// 路径新窗口打开\n        window.open(key, '_blank')\n      } else {\n        this.activeRoutes(key)\n      }\n    },\n    // 当前激活的路由\n    activeRoutes(key) {\n      var routes = []\n      if (this.childrenMenus && this.childrenMenus.length > 0) {\n        this.childrenMenus.map((item) => {\n          if (key === item.parentPath || (key === 'index' && item.path === '')) {\n            routes.push(item)\n          }\n        })\n      }\n      this.$store.commit('permission/SET_SIDEBAR_ROUTERS', routes)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.el-menu--horizontal > .el-menu-item {\n  float: left;\n  height: 50px;\n  line-height: 50px;\n  margin: 0;\n  border-bottom: 3px solid transparent;\n  color: #999093;\n  padding: 0 5px;\n  margin: 0 10px;\n}\n\n.el-menu--horizontal > .el-menu-item.is-active {\n  border-bottom: 3px solid #409eff;\n  color: #303133;\n}\n</style>\n"],"sourceRoot":"src/components/TopNav"}]}