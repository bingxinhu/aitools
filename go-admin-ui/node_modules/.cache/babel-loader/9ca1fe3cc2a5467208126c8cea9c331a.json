{"remainingRequest":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/profile/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/profile/index.vue","mtime":1669257735083},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/babel.config.js","mtime":1669257735055},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1670489673015},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1670489672091}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1c2VyQXZhdGFyIGZyb20gJy4vdXNlckF2YXRhcic7CmltcG9ydCB1c2VySW5mbyBmcm9tICcuL3VzZXJJbmZvJzsKaW1wb3J0IHJlc2V0UHdkIGZyb20gJy4vcmVzZXRQd2QnOwppbXBvcnQgeyBnZXRVc2VyUHJvZmlsZSB9IGZyb20gJ0AvYXBpL2FkbWluL3N5cy11c2VyJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9maWxlJywKICBjb21wb25lbnRzOiB7CiAgICB1c2VyQXZhdGFyOiB1c2VyQXZhdGFyLAogICAgdXNlckluZm86IHVzZXJJbmZvLAogICAgcmVzZXRQd2Q6IHJlc2V0UHdkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjoge30sCiAgICAgIHJvbGVHcm91cDoge30sCiAgICAgIHBvc3RHcm91cDoge30sCiAgICAgIGRlcHRHcm91cDoge30sCiAgICAgIGFjdGl2ZVRhYjogJ3VzZXJpbmZvJywKICAgICAgcm9sZUlkczogdW5kZWZpbmVkLAogICAgICBwb3N0SWRzOiB1bmRlZmluZWQsCiAgICAgIHJvbGVOYW1lOiB1bmRlZmluZWQsCiAgICAgIHBvc3ROYW1lOiB1bmRlZmluZWQsCiAgICAgIGRlcHQ6IHt9LAogICAgICBkZXB0TmFtZTogdW5kZWZpbmVkCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlcigpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VXNlcjogZnVuY3Rpb24gZ2V0VXNlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgZ2V0VXNlclByb2ZpbGUoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnVzZXIgPSByZXNwb25zZS5kYXRhLnVzZXI7CiAgICAgICAgX3RoaXMucm9sZUlkcyA9IHJlc3BvbnNlLmRhdGEudXNlci5yb2xlSWRzOwogICAgICAgIF90aGlzLnJvbGVHcm91cCA9IHJlc3BvbnNlLmRhdGEucm9sZXM7CiAgICAgICAgaWYgKF90aGlzLnJvbGVJZHNbMF0pIHsKICAgICAgICAgIGZvciAodmFyIGtleSBpbiBfdGhpcy5yb2xlR3JvdXApIHsKICAgICAgICAgICAgaWYgKF90aGlzLnJvbGVJZHNbMF0gPT09IF90aGlzLnJvbGVHcm91cFtrZXldLnJvbGVJZCkgewogICAgICAgICAgICAgIF90aGlzLnJvbGVOYW1lID0gX3RoaXMucm9sZUdyb3VwW2tleV0ucm9sZU5hbWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMucm9sZU5hbWUgPSAn5pqC5pegJzsKICAgICAgICB9CiAgICAgICAgX3RoaXMuZGVwdCA9IHJlc3BvbnNlLmRhdGEudXNlci5kZXB0OwogICAgICAgIF90aGlzLmRlcHROYW1lID0gX3RoaXMuZGVwdC5kZXB0TmFtZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,OAAA,UAAA,MAAA,cAAA;AACA,OAAA,QAAA,MAAA,YAAA;AACA,OAAA,QAAA,MAAA,YAAA;AACA,SAAA,cAAA,QAAA,sBAAA;AAEA,eAAA;EACA,IAAA,EAAA,SAAA;EACA,UAAA,EAAA;IAAA,UAAA,EAAA,UAAA;IAAA,QAAA,EAAA,QAAA;IAAA,QAAA,EAAA;EAAA,CAAA;EACA,IAAA,kBAAA;IACA,OAAA;MACA,IAAA,EAAA,CAAA,CAAA;MACA,SAAA,EAAA,CAAA,CAAA;MACA,SAAA,EAAA,CAAA,CAAA;MACA,SAAA,EAAA,CAAA,CAAA;MACA,SAAA,EAAA,UAAA;MACA,OAAA,EAAA,SAAA;MACA,OAAA,EAAA,SAAA;MACA,QAAA,EAAA,SAAA;MACA,QAAA,EAAA,SAAA;MACA,IAAA,EAAA,CAAA,CAAA;MACA,QAAA,EAAA;IACA,CAAA;EACA,CAAA;EACA,OAAA,qBAAA;IACA,IAAA,CAAA,OAAA,EAAA;EACA,CAAA;EACA,OAAA,EAAA;IACA,OAAA,qBAAA;MAAA;MACA,cAAA,EAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;QACA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;QACA,KAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA;QACA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA;QAEA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA;UACA,KAAA,IAAA,GAAA,IAAA,KAAA,CAAA,SAAA,EAAA;YACA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA,CAAA,KAAA,KAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,MAAA,EAAA;cACA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,QAAA;YACA;UACA;QACA,CAAA,MAAA;UACA,KAAA,CAAA,QAAA,GAAA,IAAA;QACA;QACA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;QACA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA,QAAA;MACA,CAAA,CAAA;IACA;EACA;AACA,CAAA","sourcesContent":["<template>\n  <BasicLayout>\n    <template #wrapper>\n      <el-row :gutter=\"10\">\n        <el-col :span=\"6\" :xs=\"24\">\n          <el-card class=\"box-card\">\n            <div slot=\"header\" class=\"clearfix\">\n              <span>个人信息</span>\n            </div>\n            <div>\n              <div class=\"text-center\">\n                <userAvatar :user=\"user\" />\n              </div>\n              <ul class=\"list-group list-group-striped\">\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"user\" />用户名称\n                  <div class=\"pull-right\">{{ user.username }}</div>\n                </li>\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"phone\" />手机号码\n                  <div class=\"pull-right\">{{ user.phone }}</div>\n                </li>\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"email\" />用户邮箱\n                  <div class=\"pull-right\">{{ user.email }}</div>\n                </li>\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"tree\" />所属部门\n                  <div class=\"pull-right\">{{ deptName }}</div>\n                </li>\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"peoples\" />所属角色\n                  <div class=\"pull-right\">{{ roleName }}</div>\n                </li>\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"date\" />创建日期\n                  <div class=\"pull-right\">{{ user.createdAt }}</div>\n                </li>\n              </ul>\n            </div>\n          </el-card>\n        </el-col>\n        <el-col :span=\"18\" :xs=\"24\">\n          <el-card>\n            <div slot=\"header\" class=\"clearfix\">\n              <span>基本资料</span>\n            </div>\n            <el-tabs v-model=\"activeTab\">\n              <el-tab-pane label=\"基本资料\" name=\"userinfo\">\n                <userInfo :user=\"user\" />\n              </el-tab-pane>\n              <el-tab-pane label=\"修改密码\" name=\"resetPwd\">\n                <resetPwd :user=\"user\" />\n              </el-tab-pane>\n            </el-tabs>\n          </el-card>\n        </el-col>\n      </el-row>\n    </template>\n  </BasicLayout>\n</template>\n\n<script>\nimport userAvatar from './userAvatar'\nimport userInfo from './userInfo'\nimport resetPwd from './resetPwd'\nimport { getUserProfile } from '@/api/admin/sys-user'\n\nexport default {\n  name: 'Profile',\n  components: { userAvatar, userInfo, resetPwd },\n  data() {\n    return {\n      user: {},\n      roleGroup: {},\n      postGroup: {},\n      deptGroup: {},\n      activeTab: 'userinfo',\n      roleIds: undefined,\n      postIds: undefined,\n      roleName: undefined,\n      postName: undefined,\n      dept: {},\n      deptName: undefined\n    }\n  },\n  created() {\n    this.getUser()\n  },\n  methods: {\n    getUser() {\n      getUserProfile().then(response => {\n        this.user = response.data.user\n        this.roleIds = response.data.user.roleIds\n        this.roleGroup = response.data.roles\n\n        if (this.roleIds[0]) {\n          for (const key in this.roleGroup) {\n            if (this.roleIds[0] === this.roleGroup[key].roleId) {\n              this.roleName = this.roleGroup[key].roleName\n            }\n          }\n        } else {\n          this.roleName = '暂无'\n        }\n        this.dept = response.data.user.dept\n        this.deptName = this.dept.deptName\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .list-group-item{\n    padding: 18px 0;\n  }\n  .svg-icon{\n    margin-right: 5px;\n  }\n</style>\n"],"sourceRoot":"src/views/profile"}]}