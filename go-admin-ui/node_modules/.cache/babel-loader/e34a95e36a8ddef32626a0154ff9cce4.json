{"remainingRequest":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/schedule/log.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/schedule/log.vue","mtime":1669257735083},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/babel.config.js","mtime":1669257735055},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1670489673015},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1670489672091}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zaGlmdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyB1bldzTG9nb3V0IH0gZnJvbSAnQC9hcGkvd3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N5c0pvYkxvZ01hbmFnZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHdlYnNvY2s6IG51bGwsCiAgICAgIGFycnM6IFtdLAogICAgICBpZDogdW5kZWZpbmVkLAogICAgICBncm91cDogdW5kZWZpbmVkCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaWQgPSB0aGlzLmd1aWQoKTsKICAgIHRoaXMuZ3JvdXAgPSAnbG9nJzsKICAgIHRoaXMuaW5pdFdlYlNvY2tldCgpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBjb25zb2xlLmxvZygn5pat5byAd2Vic29ja2V06L+e5o6lJyk7CiAgICB0aGlzLndlYnNvY2suY2xvc2UoKTsgLy8g56a75byA6Lev55Sx5LmL5ZCO5pat5byAd2Vic29ja2V06L+e5o6lCiAgICB1bldzTG9nb3V0KHRoaXMuaWQsIHRoaXMuZ3JvdXApLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0V2ViU29ja2V0OiBmdW5jdGlvbiBpbml0V2ViU29ja2V0KCkgewogICAgICAvLyDliJ3lp4vljJZ3ZW9zb2NrZXQKICAgICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUudXNlci50b2tlbik7CiAgICAgIHZhciB3c3VyaSA9ICd3czovLzEyNy4wLjAuMTo4MDAwL3dzLycgKyB0aGlzLmlkICsgJy8nICsgdGhpcy5ncm91cCArICc/dG9rZW49JyArIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudG9rZW47CiAgICAgIHRoaXMud2Vic29jayA9IG5ldyBXZWJTb2NrZXQod3N1cmkpOwogICAgICB0aGlzLndlYnNvY2sub25tZXNzYWdlID0gdGhpcy53ZWJzb2NrZXRvbm1lc3NhZ2U7CiAgICAgIHRoaXMud2Vic29jay5vbm9wZW4gPSB0aGlzLndlYnNvY2tldG9ub3BlbjsKICAgICAgdGhpcy53ZWJzb2NrLm9uZXJyb3IgPSB0aGlzLndlYnNvY2tldG9uZXJyb3I7CiAgICAgIHRoaXMud2Vic29jay5vbmNsb3NlID0gdGhpcy53ZWJzb2NrZXRjbG9zZTsKICAgIH0sCiAgICB3ZWJzb2NrZXRvbm9wZW46IGZ1bmN0aW9uIHdlYnNvY2tldG9ub3BlbigpIHsKICAgICAgLy8g6L+e5o6l5bu656uL5LmL5ZCO5omn6KGMc2VuZOaWueazleWPkemAgeaVsOaNrgogICAgICBjb25zb2xlLmxvZygn6L+e5o6l5omT5byAJyk7CiAgICAgIC8vICAgY29uc3QgYWN0aW9ucyA9IHsgJ3Rlc3QnOiAnMTIzNDUnIH0KICAgICAgLy8gICB0aGlzLndlYnNvY2tldHNlbmQoSlNPTi5zdHJpbmdpZnkoYWN0aW9ucykpCiAgICB9LAogICAgd2Vic29ja2V0b25lcnJvcjogZnVuY3Rpb24gd2Vic29ja2V0b25lcnJvcigpIHsKICAgICAgLy8g6L+e5o6l5bu656uL5aSx6LSl6YeN6L+eCiAgICAgIHRoaXMuaW5pdFdlYlNvY2tldCgpOwogICAgfSwKICAgIHdlYnNvY2tldG9ubWVzc2FnZTogZnVuY3Rpb24gd2Vic29ja2V0b25tZXNzYWdlKGUpIHsKICAgICAgLy8g5pWw5o2u5o6l5pS2CiAgICAgIGNvbnNvbGUubG9nKGUuZGF0YSk7CiAgICAgIC8vICAgY29uc29sZS5sb2codGhpcy5iaW5hcnlBZ2VudChlKSkKICAgICAgLy8gICBjb25zdCByZWRhdGEgPSBKU09OLnBhcnNlKGUuZGF0YSkKICAgICAgLy8gICBjb25zb2xlLmxvZyhyZWRhdGEpCiAgICAgIC8vICAgdGhpcy4kcmVmcy5sb2cuaW5uZXJUZXh0ID0gZS5kYXRhICsgJ1xuJyArIHRoaXMuJHJlZnMubG9nLmlubmVyVGV4dAogICAgICB0aGlzLmFycnMudW5zaGlmdChlLmRhdGEpOwogICAgfSwKICAgIHdlYnNvY2tldHNlbmQ6IGZ1bmN0aW9uIHdlYnNvY2tldHNlbmQoRGF0YSkgey8vIOaVsOaNruWPkemAgQogICAgICAvLyAgIHRoaXMud2Vic29jay5zZW5kKERhdGEpCiAgICB9LAogICAgd2Vic29ja2V0Y2xvc2U6IGZ1bmN0aW9uIHdlYnNvY2tldGNsb3NlKGUpIHsKICAgICAgLy8g5YWz6ZetCiAgICAgIHVuV3NMb2dvdXQodGhpcy5pZCwgdGhpcy5ncm91cCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKCfmlq3lvIDov57mjqUnLCBlKTsKICAgIH0sCiAgICBndWlkOiBmdW5jdGlvbiBndWlkKCkgewogICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykgewogICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDsKICAgICAgICB2YXIgdiA9IGMgPT09ICd4JyA/IHIgOiByICYgMHgzIHwgMHg4OwogICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["log.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,SAAA,UAAA,QAAA,UAAA;AACA,eAAA;EACA,IAAA,EAAA,iBAAA;EACA,IAAA,kBAAA;IACA,OAAA;MACA,OAAA,EAAA,IAAA;MACA,IAAA,EAAA,EAAA;MACA,EAAA,EAAA,SAAA;MACA,KAAA,EAAA;IACA,CAAA;EACA,CAAA;EACA,OAAA,qBAAA;IACA,IAAA,CAAA,EAAA,GAAA,IAAA,CAAA,IAAA,EAAA;IACA,IAAA,CAAA,KAAA,GAAA,KAAA;IACA,IAAA,CAAA,aAAA,EAAA;EACA,CAAA;EACA,SAAA,uBAAA;IACA,OAAA,CAAA,GAAA,CAAA,eAAA,CAAA;IACA,IAAA,CAAA,OAAA,CAAA,KAAA,EAAA,EAAA;IACA,UAAA,CAAA,IAAA,CAAA,EAAA,EAAA,IAAA,CAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;MACA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA;IACA,CAAA,CACA;EACA,CAAA;EACA,OAAA,EAAA;IACA,aAAA,2BAAA;MAAA;MACA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA;MACA,IAAA,KAAA,GAAA,yBAAA,GAAA,IAAA,CAAA,EAAA,GAAA,GAAA,GAAA,IAAA,CAAA,KAAA,GAAA,SAAA,GAAA,IAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KAAA;MACA,IAAA,CAAA,OAAA,GAAA,IAAA,SAAA,CAAA,KAAA,CAAA;MACA,IAAA,CAAA,OAAA,CAAA,SAAA,GAAA,IAAA,CAAA,kBAAA;MACA,IAAA,CAAA,OAAA,CAAA,MAAA,GAAA,IAAA,CAAA,eAAA;MACA,IAAA,CAAA,OAAA,CAAA,OAAA,GAAA,IAAA,CAAA,gBAAA;MACA,IAAA,CAAA,OAAA,CAAA,OAAA,GAAA,IAAA,CAAA,cAAA;IACA,CAAA;IACA,eAAA,6BAAA;MAAA;MACA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA;MACA;MACA;IACA,CAAA;IACA,gBAAA,8BAAA;MAAA;MACA,IAAA,CAAA,aAAA,EAAA;IACA,CAAA;IACA,kBAAA,8BAAA,CAAA,EAAA;MAAA;MACA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA,IAAA,CAAA;MACA;MACA;MACA;MACA;MACA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,IAAA,CAAA;IACA,CAAA;IACA,aAAA,yBAAA,IAAA,EAAA,CAAA;MACA;IAAA,CACA;IACA,cAAA,0BAAA,CAAA,EAAA;MAAA;MACA,UAAA,CAAA,IAAA,CAAA,EAAA,EAAA,IAAA,CAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;QACA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA;MACA,CAAA,CACA;MACA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,CAAA,CAAA;IACA,CAAA;IACA,IAAA,kBAAA;MACA,OAAA,sCAAA,CAAA,OAAA,CAAA,OAAA,EAAA,UAAA,CAAA,EAAA;QACA,IAAA,CAAA,GAAA,IAAA,CAAA,MAAA,EAAA,GAAA,EAAA,GAAA,CAAA;QAAA,IAAA,CAAA,GAAA,CAAA,KAAA,GAAA,GAAA,CAAA,GAAA,CAAA,GAAA,GAAA,GAAA,GAAA;QACA,OAAA,CAAA,CAAA,QAAA,CAAA,EAAA,CAAA;MACA,CAAA,CAAA;IACA;EACA;AACA,CAAA","sourcesContent":["\n<template>\n  <BasicLayout>\n    <template #wrapper>\n      <el-card class=\"box-card\">\n        <el-form>\n          <el-form-item>\n            <el-button type=\"success\" icon=\"el-icon-search\" size=\"mini\">状态</el-button>\n            <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\">清空</el-button>\n          </el-form-item>\n        </el-form>\n        <el-row ref=\"log\" :gutter=\"10\" class=\"mb8\">\n          <el-scrollbar style=\"height:500px;background-color: black;color: cornflowerblue;\">\n            <ul\n              style=\"line-height: 25px;padding-top: 15px;padding-bottom: 15px;min-height: 500px; margin: 0;list-style-type: none;\"\n            >\n              <li v-for=\"(item,index) in arrs\" :key=\"index\">\n\n                {{ item }}\n              </li>\n            </ul>\n          </el-scrollbar>\n        </el-row>\n      </el-card>\n    </template>\n  </BasicLayout>\n\n</template>\n\n<script>\n\nimport { unWsLogout } from '@/api/ws'\nexport default {\n  name: 'SysJobLogManage',\n  data() {\n    return {\n      websock: null,\n      arrs: [],\n      id: undefined,\n      group: undefined\n    }\n  },\n  created() {\n    this.id = this.guid()\n    this.group = 'log'\n    this.initWebSocket()\n  },\n  destroyed() {\n    console.log('断开websocket连接')\n    this.websock.close() // 离开路由之后断开websocket连接\n    unWsLogout(this.id, this.group).then(response => {\n      console.log(response.data)\n    }\n    )\n  },\n  methods: {\n    initWebSocket() { // 初始化weosocket\n      console.log(this.$store.state.user.token)\n      const wsuri = 'ws://127.0.0.1:8000/ws/' + this.id + '/' + this.group + '?token=' + this.$store.state.user.token\n      this.websock = new WebSocket(wsuri)\n      this.websock.onmessage = this.websocketonmessage\n      this.websock.onopen = this.websocketonopen\n      this.websock.onerror = this.websocketonerror\n      this.websock.onclose = this.websocketclose\n    },\n    websocketonopen() { // 连接建立之后执行send方法发送数据\n      console.log('连接打开')\n    //   const actions = { 'test': '12345' }\n    //   this.websocketsend(JSON.stringify(actions))\n    },\n    websocketonerror() { // 连接建立失败重连\n      this.initWebSocket()\n    },\n    websocketonmessage(e) { // 数据接收\n      console.log(e.data)\n      //   console.log(this.binaryAgent(e))\n      //   const redata = JSON.parse(e.data)\n      //   console.log(redata)\n      //   this.$refs.log.innerText = e.data + '\\n' + this.$refs.log.innerText\n      this.arrs.unshift(e.data)\n    },\n    websocketsend(Data) { // 数据发送\n    //   this.websock.send(Data)\n    },\n    websocketclose(e) { // 关闭\n      unWsLogout(this.id, this.group).then(response => {\n        console.log(response.data)\n      }\n      )\n      console.log('断开连接', e)\n    },\n    guid() {\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0; var v = c === 'x' ? r : (r & 0x3 | 0x8)\n        return v.toString(16)\n      })\n    }\n  }\n}\n\n</script>\n"],"sourceRoot":"src/views/schedule"}]}