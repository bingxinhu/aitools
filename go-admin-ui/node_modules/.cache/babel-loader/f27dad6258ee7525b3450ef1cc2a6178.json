{"remainingRequest":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/utils/request.js","dependencies":[{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/utils/request.js","mtime":1669257735079},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/babel.config.js","mtime":1669257735055},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1670489673015},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1670489675467}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2VCb3gsIE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CgovLyBjcmVhdGUgYW4gYXhpb3MgaW5zdGFuY2UKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgLy8gdXJsID0gYmFzZSB1cmwgKyByZXF1ZXN0IHVybAogIC8vIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwgLy8gc2VuZCBjb29raWVzIHdoZW4gY3Jvc3MtZG9tYWluIHJlcXVlc3RzCiAgdGltZW91dDogMTAwMDAgLy8gcmVxdWVzdCB0aW1lb3V0Cn0pOwoKLy8gcmVxdWVzdCBpbnRlcmNlcHRvcgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8gZG8gc29tZXRoaW5nIGJlZm9yZSByZXF1ZXN0IGlzIHNlbnQKCiAgaWYgKHN0b3JlLmdldHRlcnMudG9rZW4pIHsKICAgIC8vIGxldCBlYWNoIHJlcXVlc3QgY2FycnkgdG9rZW4KICAgIC8vIFsnWC1Ub2tlbiddIGlzIGEgY3VzdG9tIGhlYWRlcnMga2V5CiAgICAvLyBwbGVhc2UgbW9kaWZ5IGl0IGFjY29yZGluZyB0byB0aGUgYWN0dWFsIHNpdHVhdGlvbgogICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIGdldFRva2VuKCk7CiAgICBjb25maWcuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7CiAgfQogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIGRvIHNvbWV0aGluZyB3aXRoIHJlcXVlc3QgZXJyb3IKICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIGZvciBkZWJ1ZwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8gcmVzcG9uc2UgaW50ZXJjZXB0b3IKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKAovKioKICogSWYgeW91IHdhbnQgdG8gZ2V0IGh0dHAgaW5mb3JtYXRpb24gc3VjaCBhcyBoZWFkZXJzIG9yIHN0YXR1cwogKiBQbGVhc2UgcmV0dXJuICByZXNwb25zZSA9PiByZXNwb25zZQoqLwoKLyoqCiAqIERldGVybWluZSB0aGUgcmVxdWVzdCBzdGF0dXMgYnkgY3VzdG9tIGNvZGUKICogSGVyZSBpcyBqdXN0IGFuIGV4YW1wbGUKICogWW91IGNhbiBhbHNvIGp1ZGdlIHRoZSBzdGF0dXMgYnkgSFRUUCBTdGF0dXMgQ29kZQogKi8KZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgdmFyIGNvZGUgPSByZXNwb25zZS5kYXRhLmNvZGU7CiAgaWYgKGNvZGUgPT09IDQwMSkgewogICAgc3RvcmUuZGlzcGF0Y2goJ3VzZXIvcmVzZXRUb2tlbicpOwogICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZignbG9naW4nKSAhPT0gLTEpIHsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7IC8vIOS4uuS6humHjeaWsOWunuS+i+WMlnZ1ZS1yb3V0ZXLlr7nosaEg6YG/5YWNYnVnCiAgICB9IGVsc2UgewogICAgICBNZXNzYWdlQm94LmNvbmZpcm0oJ+eZu+W9leeKtuaAgeW3sui/h+acn++8jOaCqOWPr+S7pee7p+e7reeVmeWcqOivpemhtemdou+8jOaIluiAhemHjeaWsOeZu+W9lScsICfns7vnu5/mj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfph43mlrDnmbvlvZUnLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsgLy8g5Li65LqG6YeN5paw5a6e5L6L5YyWdnVlLXJvdXRlcuWvueixoSDpgb/lhY1idWcKICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIGlmIChjb2RlID09PSA2NDAxKSB7CiAgICBzdG9yZS5kaXNwYXRjaCgndXNlci9yZXNldFRva2VuJyk7CiAgICBNZXNzYWdlQm94LmNvbmZpcm0oJ+eZu+W9leeKtuaAgeW3sui/h+acn++8jOaCqOWPr+S7pee7p+e7reeVmeWcqOivpemhtemdou+8jOaIluiAhemHjeaWsOeZu+W9lScsICfns7vnu5/mj5DnpLonLCB7CiAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6YeN5paw55m75b2VJywKICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOyAvLyDkuLrkuobph43mlrDlrp7kvovljJZ2dWUtcm91dGVy5a+56LGhIOmBv+WFjWJ1ZwogICAgfSk7CgogICAgcmV0dXJuIGZhbHNlOwogIH0gZWxzZSBpZiAoY29kZSA9PT0gNDAwIHx8IGNvZGUgPT09IDQwMykgewogICAgTWVzc2FnZSh7CiAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubXNnLAogICAgICB0eXBlOiAnZXJyb3InLAogICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgIH0pOwogIH0gZWxzZSBpZiAoY29kZSAhPT0gMjAwKSB7CiAgICAvLyBOb3RpZmljYXRpb24uZXJyb3IoewogICAgLy8gICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tc2cKICAgIC8vIH0pCiAgICBNZXNzYWdlKHsKICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5tc2csCiAgICAgIHR5cGU6ICdlcnJvcicKICAgIH0pOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdlcnJvcicpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGlmIChlcnJvci5tZXNzYWdlID09PSAnTmV0d29yayBFcnJvcicpIHsKICAgIE1lc3NhZ2UoewogICAgICBtZXNzYWdlOiAn5pyN5Yqh5Zmo6L+e5o6l5byC5bi477yM6K+35qOA5p+l5pyN5Yqh5Zmo77yBJywKICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgZHVyYXRpb246IDUgKiAxMDAwCiAgICB9KTsKICAgIHJldHVybjsKICB9CiAgY29uc29sZS5sb2coJ2VycicgKyBlcnJvcik7IC8vIGZvciBkZWJ1ZwoKICBNZXNzYWdlKHsKICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICB0eXBlOiAnZXJyb3InLAogICAgZHVyYXRpb246IDUgKiAxMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"names":["axios","MessageBox","Message","store","getToken","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","getters","token","headers","error","console","log","Promise","reject","response","code","data","dispatch","location","href","indexOf","reload","confirm","confirmButtonText","cancelButtonText","type","then","message","msg","duration"],"sources":["/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\nimport { MessageBox, Message } from 'element-ui'\nimport store from '@/store'\nimport { getToken } from '@/utils/auth'\n\n// create an axios instance\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_API, // url = base url + request url\n  // withCredentials: true, // send cookies when cross-domain requests\n  timeout: 10000 // request timeout\n})\n\n// request interceptor\nservice.interceptors.request.use(\n  config => {\n    // do something before request is sent\n\n    if (store.getters.token) {\n      // let each request carry token\n      // ['X-Token'] is a custom headers key\n      // please modify it according to the actual situation\n      config.headers['Authorization'] = 'Bearer ' + getToken()\n      config.headers['Content-Type'] = 'application/json'\n    }\n    return config\n  },\n  error => {\n    // do something with request error\n    console.log(error) // for debug\n    return Promise.reject(error)\n  }\n)\n\n// response interceptor\nservice.interceptors.response.use(\n  /**\n   * If you want to get http information such as headers or status\n   * Please return  response => response\n  */\n\n  /**\n   * Determine the request status by custom code\n   * Here is just an example\n   * You can also judge the status by HTTP Status Code\n   */\n  response => {\n    const code = response.data.code\n    if (code === 401) {\n      store.dispatch('user/resetToken')\n      if (location.href.indexOf('login') !== -1) {\n        location.reload() // 为了重新实例化vue-router对象 避免bug\n      } else {\n        MessageBox.confirm(\n          '登录状态已过期，您可以继续留在该页面，或者重新登录',\n          '系统提示',\n          {\n            confirmButtonText: '重新登录',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }\n        ).then(() => {\n          location.reload() // 为了重新实例化vue-router对象 避免bug\n        })\n      }\n    } else if (code === 6401) {\n      store.dispatch('user/resetToken')\n      MessageBox.confirm(\n        '登录状态已过期，您可以继续留在该页面，或者重新登录',\n        '系统提示',\n        {\n          confirmButtonText: '重新登录',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }\n      ).then(() => {\n        location.reload() // 为了重新实例化vue-router对象 避免bug\n      })\n      return false\n    } else if (code === 400 || code === 403) {\n      Message({\n        message: response.data.msg,\n        type: 'error',\n        duration: 5 * 1000\n      })\n    } else if (code !== 200) {\n      // Notification.error({\n      //   title: response.data.msg\n      // })\n      Message({\n        message: response.data.msg,\n        type: 'error'\n      })\n      return Promise.reject('error')\n    } else {\n      return response.data\n    }\n  },\n  error => {\n    if (error.message === 'Network Error') {\n      Message({\n        message: '服务器连接异常，请检查服务器！',\n        type: 'error',\n        duration: 5 * 1000\n      })\n      return\n    }\n    console.log('err' + error) // for debug\n\n    Message({\n      message: error.message,\n      type: 'error',\n      duration: 5 * 1000\n    })\n\n    return Promise.reject(error)\n  }\n)\n\nexport default service\n"],"mappings":"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"}]}