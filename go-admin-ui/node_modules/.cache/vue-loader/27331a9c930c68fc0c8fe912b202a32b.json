{"remainingRequest":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/dev-tools/gen/editTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/dev-tools/gen/editTable.vue","mtime":1669257735083},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1670489673015},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1670489672091}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEdlblRhYmxlLCB1cGRhdGVHZW5UYWJsZSwgZ2V0VGFibGVUcmVlIH0gZnJvbSAnQC9hcGkvdG9vbHMvZ2VuJwovLyBpbXBvcnQgeyBsaXN0VGFibGUgfSBmcm9tICdAL2FwaS90b29scy9nZW4nCmltcG9ydCB7IG9wdGlvbnNlbGVjdCBhcyBnZXREaWN0T3B0aW9uc2VsZWN0IH0gZnJvbSAnQC9hcGkvYWRtaW4vZGljdC90eXBlJwppbXBvcnQgYmFzaWNJbmZvRm9ybSBmcm9tICcuL2Jhc2ljSW5mb0Zvcm0nCmltcG9ydCBnZW5JbmZvRm9ybSBmcm9tICcuL2dlbkluZm9Gb3JtJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0dlbkVkaXQnLAogIGNvbXBvbmVudHM6IHsKICAgIGJhc2ljSW5mb0Zvcm0sCiAgICBnZW5JbmZvRm9ybQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOmAieS4remAiemhueWNoeeahCBuYW1lCiAgICAgIGFjdGl2ZU5hbWU6ICdjbG91bScsCiAgICAgIC8vIOihqOagvOeahOmrmOW6pgogICAgICB0YWJsZUhlaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCAtIDI0NSArICdweCcsCiAgICAgIC8vIOihqOWIl+S/oeaBrwogICAgICBjb2x1bW5zOiBbXSwKICAgICAgdGFibGVUcmVlOiBbXSwKICAgICAgLy8g5a2X5YW45L+h5oGvCiAgICAgIGRpY3RPcHRpb25zOiBbXSwKICAgICAgLy8g6KGo6K+m57uG5L+h5oGvCiAgICAgIGluZm86IHt9CiAgICB9CiAgfSwKCiAgYmVmb3JlQ3JlYXRlKCkgewogICAgZ2V0VGFibGVUcmVlKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMudGFibGVUcmVlID0gcmVzcG9uc2UuZGF0YQogICAgICB0aGlzLnRhYmxlVHJlZS51bnNoaWZ0KHsgdGFibGVJZDogMCwgY2xhc3NOYW1lOiAn6K+36YCJ5oupJyB9KQogICAgfSkKICAgIGNvbnN0IHsgdGFibGVJZCB9ID0gdGhpcy4kcm91dGUucXVlcnkKICAgIGlmICh0YWJsZUlkKSB7CiAgICAgIC8vIOiOt+WPluihqOivpue7huS/oeaBrwogICAgICBnZXRHZW5UYWJsZSh0YWJsZUlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5jb2x1bW5zID0gcmVzLmRhdGEubGlzdAogICAgICAgIHRoaXMuaW5mbyA9IHJlcy5kYXRhLmluZm8KCiAgICAgICAgdGhpcy5pbmZvLmlzRGF0YVNjb3BlID0gdGhpcy5pbmZvLmlzRGF0YVNjb3BlLnRvU3RyaW5nKCkKICAgICAgICB0aGlzLmluZm8uaXNBY3Rpb25zID0gdGhpcy5pbmZvLmlzQWN0aW9ucy50b1N0cmluZygpCiAgICAgICAgdGhpcy5pbmZvLmlzQXV0aCA9IHRoaXMuaW5mby5pc0F1dGgudG9TdHJpbmcoKQoKICAgICAgICB0aGlzLmNvbHVtbnMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIHRoaXMudGFibGVUcmVlLmZpbHRlcihmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGlmIChlLnRhYmxlSWQgPT09IGl0ZW0uZmtUYWJsZU5hbWVDbGFzcykgewogICAgICAgICAgICAgIGl0ZW0uZmtDb2wgPSBlLmNvbHVtbnMgfHwgW3sgY29sdW1uSWQ6IDAsIGNvbHVtbk5hbWU6ICfor7fpgInmi6knIH1dCiAgICAgICAgICAgICAgLy8gaXRlbS5ma0NvbC51bnNoaWZ0KHsgY29sdW1uSWQ6IDAsIGNvbHVtbk5hbWU6ICfor7fpgInmi6knIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgfSkKCiAgICAgIC8qKiDmn6Xor6LlrZflhbjkuIvmi4nliJfooaggKi8KICAgICAgZ2V0RGljdE9wdGlvbnNlbGVjdCgpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuZGljdE9wdGlvbnMgPSByZXNwb25zZS5kYXRhCiAgICAgIH0pCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW5kZXJIZWFkZVVwZGF0ZShoLCB7IGNvbHVtbiwgJGluZGV4IH0pIHsKICAgICAgLy8gaCDmmK/kuIDkuKrmuLLmn5Plh73mlbAgICAgICAgY29sdW1uIOaYr+S4gOS4quWvueixoeihqOekuuW9k+WJjeWIlyAgICAgICRpbmRleCDnrKzlh6DliJcKICAgICAgcmV0dXJuIGgoJ2RpdicsIFsKICAgICAgICBoKCdzcGFuJywgY29sdW1uLmxhYmVsICsgJyAgJywgeyBhbGlnbjogJ2NlbnRlcicsIG1hcmdpblRvcDogJzBweCcgfSksCiAgICAgICAgaCgKICAgICAgICAgICdlbC1wb3BvdmVyJywKICAgICAgICAgIHsgcHJvcHM6IHsgcGxhY2VtZW50OiAndG9wLXN0YXJ0Jywgd2lkdGg6ICcyNzAnLCB0cmlnZ2VyOiAnaG92ZXInIH19LAogICAgICAgICAgWwogICAgICAgICAgICBoKCdwJywgJ+aYr+WQpuWcqOihqOWNlee8lui+keaXtuiDveWkn+e8lui+ke+8jOaJk+KImuihqOekuumcgOimgScsIHsgY2xhc3M6ICd0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMCcgfSksCiAgICAgICAgICAgIC8vIOeUn+aIkCBpIOagh+etviDvvIzmt7vliqBpY29uIOiuvue9riDmoLflvI/vvIxzbG90IOW/heWhqwogICAgICAgICAgICBoKCdpJywgeyBjbGFzczogJ2VsLWljb24tcXVlc3Rpb24nLCBzdHlsZTogJ2NvbG9yOiNjY2MscGFkZGluZy10b3A6NXB4Jywgc2xvdDogJ3JlZmVyZW5jZScgfSkKICAgICAgICAgIF0KICAgICAgICApCiAgICAgIF0pCiAgICB9LAogICAgcmVuZGVySGVhZGVMaXN0KGgsIHsgY29sdW1uLCAkaW5kZXggfSkgewogICAgICAvLyBoIOaYr+S4gOS4qua4suafk+WHveaVsCAgICAgICBjb2x1bW4g5piv5LiA5Liq5a+56LGh6KGo56S65b2T5YmN5YiXICAgICAgJGluZGV4IOesrOWHoOWIlwogICAgICByZXR1cm4gaCgnZGl2JywgWwogICAgICAgIGgoJ3NwYW4nLCBjb2x1bW4ubGFiZWwgKyAnICAnLCB7IGFsaWduOiAnY2VudGVyJywgbWFyZ2luVG9wOiAnMHB4JyB9KSwKICAgICAgICBoKAogICAgICAgICAgJ2VsLXBvcG92ZXInLAogICAgICAgICAgeyBwcm9wczogeyBwbGFjZW1lbnQ6ICd0b3Atc3RhcnQnLCB3aWR0aDogJzI2MCcsIHRyaWdnZXI6ICdob3ZlcicgfX0sCiAgICAgICAgICBbCiAgICAgICAgICAgIGgoJ3AnLCAn5piv5ZCm5Zyo5YiX6KGo5Lit5bGV56S677yM5omT4oia6KGo56S66ZyA6KaB5bGV56S6JywgeyBjbGFzczogJ3RleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAwJyB9KSwKICAgICAgICAgICAgaCgnaScsIHsgY2xhc3M6ICdlbC1pY29uLXF1ZXN0aW9uJywgc3R5bGU6ICdjb2xvcjojY2NjLHBhZGRpbmctdG9wOjVweCcsIHNsb3Q6ICdyZWZlcmVuY2UnIH0pCiAgICAgICAgICBdCiAgICAgICAgKQogICAgICBdKQogICAgfSwKICAgIHJlbmRlckhlYWRlU2VhcmNoKGgsIHsgY29sdW1uLCAkaW5kZXggfSkgewogICAgICByZXR1cm4gaCgnZGl2JywgWwogICAgICAgIGgoJ3NwYW4nLCBjb2x1bW4ubGFiZWwgKyAnICAnLCB7IGFsaWduOiAnY2VudGVyJywgbWFyZ2luVG9wOiAnMHB4JyB9KSwKICAgICAgICBoKAogICAgICAgICAgJ2VsLXBvcG92ZXInLAogICAgICAgICAgeyBwcm9wczogeyBwbGFjZW1lbnQ6ICd0b3Atc3RhcnQnLCB3aWR0aDogJzI3MCcsIHRyaWdnZXI6ICdob3ZlcicgfX0sCiAgICAgICAgICBbCiAgICAgICAgICAgIGgoJ3AnLCAn5piv6YO95b2T5YGa5pCc57Si5p2h5Lu277yM5omT4oia6KGo56S65YGa5Li65pCc57Si5p2h5Lu2JywgeyBjbGFzczogJ3RleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAwJyB9KSwKICAgICAgICAgICAgaCgnaScsIHsgY2xhc3M6ICdlbC1pY29uLXF1ZXN0aW9uJywgc3R5bGU6ICdjb2xvcjojY2NjLHBhZGRpbmctdG9wOjVweCcsIHNsb3Q6ICdyZWZlcmVuY2UnIH0pCiAgICAgICAgICBdCiAgICAgICAgKQogICAgICBdKQogICAgfSwKICAgIGhhbmRsZUNoYW5nZUNvbmZpZyhyb3csIGluZGV4KSB7CiAgICAgIHRoaXMudGFibGVUcmVlLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0udGFibGVOYW1lID09PSByb3cuZmtUYWJsZU5hbWUpIHsKICAgICAgICAgIHJvdy5ma0NvbCA9IGl0ZW0uY29sdW1ucwogICAgICAgICAgLy8gcm93LmZrQ29sLnVuc2hpZnQoeyBjb2x1bW5JZDogMCwgY29sdW1uTmFtZTogJ+ivt+mAieaLqScgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLyoqIOaPkOS6pOaMiemSriAqLwogICAgc3VibWl0Rm9ybSgpIHsKICAgICAgY29uc3QgYmFzaWNGb3JtID0gdGhpcy4kcmVmcy5iYXNpY0luZm8uJHJlZnMuYmFzaWNJbmZvRm9ybQogICAgICBjb25zdCBnZW5Gb3JtID0gdGhpcy4kcmVmcy5nZW5JbmZvLiRyZWZzLmdlbkluZm9Gb3JtCgogICAgICBQcm9taXNlLmFsbChbYmFzaWNGb3JtLCBnZW5Gb3JtXS5tYXAodGhpcy5nZXRGb3JtUHJvbWlzZSkpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zdCB2YWxpZGF0ZVJlc3VsdCA9IHJlcy5ldmVyeShpdGVtID0+ICEhaXRlbSkKICAgICAgICBpZiAodmFsaWRhdGVSZXN1bHQpIHsKICAgICAgICAgIGNvbnN0IGdlblRhYmxlID0gT2JqZWN0LmFzc2lnbih7fSwgYmFzaWNGb3JtLm1vZGVsLCBnZW5Gb3JtLm1vZGVsKQogICAgICAgICAgZ2VuVGFibGUuY29sdW1ucyA9IHRoaXMuY29sdW1ucwogICAgICAgICAgZ2VuVGFibGUucGFyYW1zID0gewogICAgICAgICAgICB0cmVlQ29kZTogZ2VuVGFibGUudHJlZUNvZGUsCiAgICAgICAgICAgIHRyZWVOYW1lOiBnZW5UYWJsZS50cmVlTmFtZSwKICAgICAgICAgICAgdHJlZVBhcmVudENvZGU6IGdlblRhYmxlLnRyZWVQYXJlbnRDb2RlCiAgICAgICAgICB9CiAgICAgICAgICBnZW5UYWJsZS5pc0RhdGFTY29wZSA9IEpTT04ucGFyc2UoZ2VuVGFibGUuaXNEYXRhU2NvcGUpCiAgICAgICAgICBnZW5UYWJsZS5pc0FjdGlvbnMgPSBKU09OLnBhcnNlKGdlblRhYmxlLmlzQWN0aW9ucykKICAgICAgICAgIGdlblRhYmxlLmlzQXV0aCA9IEpTT04ucGFyc2UoZ2VuVGFibGUuaXNBdXRoKQogICAgICAgICAgdXBkYXRlR2VuVGFibGUoZ2VuVGFibGUpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKHJlcy5tc2cpCiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubXNnRXJyb3IoJ+ihqOWNleagoemqjOacqumAmui/h++8jOivt+mHjeaWsOajgOafpeaPkOS6pOWGheWuuScpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGdldFRhYmxlcygpIHsKICAgICAgZ2V0VGFibGVUcmVlKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy50YWJsZVRyZWUgPSByZXNwb25zZS5kYXRhCiAgICAgICAgdGhpcy50YWJsZVRyZWUudW5zaGlmdCh7IHRhYmxlSWQ6IDAsIGNsYXNzTmFtZTogJ+ivt+mAieaLqScgfSkKICAgICAgfSkKICAgIH0sCiAgICBnZXRUYWJsZXNDb2wodGFibGVOYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLnRhYmxlVHJlZS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkgewogICAgICAgIGlmIChpdGVtLnRhYmxlTmFtZSA9PT0gdGFibGVOYW1lKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jb2x1bW5zCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGdldEZvcm1Qcm9taXNlKGZvcm0pIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIGZvcm0udmFsaWRhdGUocmVzID0+IHsKICAgICAgICAgIHJlc29sdmUocmVzKQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgLyoqIOWFs+mXreaMiemSriAqLwogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy9kZWxWaWV3JywgdGhpcy4kcm91dGUpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9kZXYtdG9vbHMvZ2VuJywgcXVlcnk6IHsgdDogRGF0ZS5ub3coKSB9fSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["editTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editTable.vue","sourceRoot":"src/views/dev-tools/gen","sourcesContent":["<template>\n  <el-card>\n    <el-tabs v-model=\"activeName\">\n      <el-tab-pane label=\"基本信息\" name=\"basic\">\n        <basic-info-form ref=\"basicInfo\" :info=\"info\" />\n      </el-tab-pane>\n      <el-tab-pane label=\"字段信息\" name=\"cloum\">\n        <el-alert\n          title=\"⚠️表字段中的id、create_by、update_by、created_at、updated_at、deleted_at的字段在此列表中已经隐藏\"\n          type=\"warning\"\n          show-icon\n        />\n        <el-table :data=\"columns\" :max-height=\"tableHeight\" style=\"width: 100%\">\n          <el-table-column fixed label=\"序号\" type=\"index\" width=\"50\" />\n          <el-table-column\n            fixed\n            label=\"字段列名\"\n            prop=\"columnName\"\n            width=\"150\"\n            :show-overflow-tooltip=\"true\"\n          />\n          <el-table-column fixed label=\"字段描述\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <el-input v-model=\"scope.row.columnComment\" />\n            </template>\n          </el-table-column>\n          <el-table-column\n            label=\"物理类型\"\n            prop=\"columnType\"\n            width=\"120\"\n            :show-overflow-tooltip=\"true\"\n          />\n          <el-table-column label=\"go类型\" width=\"120\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.goType\">\n                <el-option label=\"int64\" value=\"int64\" />\n                <el-option label=\"string\" value=\"string\" />\n                <!-- <el-option label=\"int\" value=\"int\" />\n                <el-option label=\"bool\" value=\"bool\" /> -->\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"go属性\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <el-input v-model=\"scope.row.goField\" />\n            </template>\n          </el-table-column>\n          <el-table-column label=\"json属性\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <el-input v-model=\"scope.row.jsonField\" />\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"编辑\" width=\"50\">\n            <template slot-scope=\"scope\">\n              <el-checkbox v-model=\"scope.row.isInsert\" true-label=\"1\" false-label=\"0\" />\n            </template>\n          </el-table-column>\n          <!-- <el-table-column label=\"编辑\" width=\"70\" :render-header=\"renderHeadeUpdate\" :cell-style=\"{'text-align':'center'}\">\n            <template slot-scope=\"scope\">\n              <el-checkbox v-model=\"scope.row.isEdit\" true-label=\"1\" false-label=\"0\" />\n            </template>\n          </el-table-column> -->\n          <el-table-column label=\"列表\" width=\"70\" :render-header=\"renderHeadeList\" :cell-style=\"{'text-align':'center'}\">\n            <template slot-scope=\"scope\">\n              <el-checkbox v-model=\"scope.row.isList\" true-label=\"1\" false-label=\"0\" />\n            </template>\n          </el-table-column>\n          <el-table-column label=\"查询\" width=\"70\" :render-header=\"renderHeadeSearch\" :cell-style=\"{'text-align':'center'}\">\n            <template slot-scope=\"scope\">\n              <el-checkbox v-model=\"scope.row.isQuery\" true-label=\"1\" false-label=\"0\" />\n            </template>\n          </el-table-column>\n          <el-table-column label=\"查询方式\" width=\"120\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.queryType\">\n                <el-option label=\"=\" value=\"EQ\" />\n                <el-option label=\"!=\" value=\"NE\" />\n                <el-option label=\">\" value=\"GT\" />\n                <el-option label=\">=\" value=\"GTE\" />\n                <el-option label=\"<\" value=\"LT\" />\n                <el-option label=\"<=\" value=\"LTE\" />\n                <el-option label=\"LIKE\" value=\"LIKE\" />\n                <!-- <el-option label=\"BETWEEN\" value=\"BETWEEN\" /> -->\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"必填\" width=\"50\">\n            <template slot-scope=\"scope\">\n              <el-checkbox v-model=\"scope.row.isRequired\" true-label=\"1\" />\n            </template>\n          </el-table-column>\n          <el-table-column label=\"显示类型\" width=\"140\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.htmlType\">\n                <el-option label=\"文本框\" value=\"input\" />\n                <el-option label=\"下拉框\" value=\"select\" />\n                <el-option label=\"单选框\" value=\"radio\" />\n                <!-- <el-option label=\"文件选择\" value=\"file\" /> -->\n                <!-- <el-option label=\"复选框\" value=\"checkbox\" />\n                <el-option label=\"日期控件\" value=\"datetime\" />-->\n                <el-option label=\"文本域\" value=\"textarea\" />\n\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"字典类型\" width=\"160\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.dictType\" clearable filterable placeholder=\"请选择\">\n                <el-option\n                  v-for=\"dict in dictOptions\"\n                  :key=\"dict.dictType\"\n                  :label=\"dict.dictName\"\n                  :value=\"dict.dictType\"\n                >\n                  <span style=\"float: left\">{{ dict.dictName }}</span>\n                  <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ dict.dictType }}</span>\n                </el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"关系表\" width=\"160\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.fkTableName\" clearable filterable placeholder=\"请选择\" @change=\"handleChangeConfig(scope.row,scope.$index)\">\n                <el-option\n                  v-for=\"table in tableTree\"\n                  :key=\"table.tableName\"\n                  :label=\"table.tableName\"\n                  :value=\"table.tableName\"\n                >\n                  <span style=\"float: left\">{{ table.tableName }}</span>\n                  <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ table.tableComment }}</span>\n                </el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"关系表key\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.fkLabelId\" clearable filterable placeholder=\"请选择\">\n                <el-option\n                  v-for=\"column in scope.row.fkCol\"\n                  :key=\"column.columnName\"\n                  :label=\"column.columnName\"\n                  :value=\"column.jsonField\"\n                >\n                  <span style=\"float: left\">{{ column.jsonField }}</span>\n                  <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ column.columnComment }}</span>\n                </el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"关系表value\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.fkLabelName\" clearable filterable placeholder=\"请选择\">\n                <el-option\n                  v-for=\"column in scope.row.fkCol\"\n                  :key=\"column.columnName\"\n                  :label=\"column.columnName\"\n                  :value=\"column.jsonField\"\n                >\n                  <span style=\"float: left\">{{ column.jsonField }}</span>\n                  <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ column.columnComment }}</span>\n                </el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-tab-pane>\n      <el-tab-pane label=\"生成信息\" name=\"genInfo\">\n        <gen-info-form ref=\"genInfo\" :info=\"info\" />\n      </el-tab-pane>\n    </el-tabs>\n    <el-form label-width=\"100px\">\n      <el-form-item style=\"text-align: center;margin-left:-100px;margin-top:10px;\">\n        <el-button type=\"primary\" @click=\"submitForm()\">提交</el-button>\n        <el-button @click=\"close()\">返回</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n<script>\nimport { getGenTable, updateGenTable, getTableTree } from '@/api/tools/gen'\n// import { listTable } from '@/api/tools/gen'\nimport { optionselect as getDictOptionselect } from '@/api/admin/dict/type'\nimport basicInfoForm from './basicInfoForm'\nimport genInfoForm from './genInfoForm'\nexport default {\n  name: 'GenEdit',\n  components: {\n    basicInfoForm,\n    genInfoForm\n  },\n  data() {\n    return {\n      // 选中选项卡的 name\n      activeName: 'cloum',\n      // 表格的高度\n      tableHeight: document.documentElement.scrollHeight - 245 + 'px',\n      // 表列信息\n      columns: [],\n      tableTree: [],\n      // 字典信息\n      dictOptions: [],\n      // 表详细信息\n      info: {}\n    }\n  },\n\n  beforeCreate() {\n    getTableTree().then(response => {\n      this.tableTree = response.data\n      this.tableTree.unshift({ tableId: 0, className: '请选择' })\n    })\n    const { tableId } = this.$route.query\n    if (tableId) {\n      // 获取表详细信息\n      getGenTable(tableId).then(res => {\n        this.columns = res.data.list\n        this.info = res.data.info\n\n        this.info.isDataScope = this.info.isDataScope.toString()\n        this.info.isActions = this.info.isActions.toString()\n        this.info.isAuth = this.info.isAuth.toString()\n\n        this.columns.forEach(item => {\n          this.tableTree.filter(function(e) {\n            if (e.tableId === item.fkTableNameClass) {\n              item.fkCol = e.columns || [{ columnId: 0, columnName: '请选择' }]\n              // item.fkCol.unshift({ columnId: 0, columnName: '请选择' })\n            }\n          })\n        })\n      })\n\n      /** 查询字典下拉列表 */\n      getDictOptionselect().then(response => {\n        this.dictOptions = response.data\n      })\n    }\n  },\n  methods: {\n    renderHeadeUpdate(h, { column, $index }) {\n      // h 是一个渲染函数       column 是一个对象表示当前列      $index 第几列\n      return h('div', [\n        h('span', column.label + '  ', { align: 'center', marginTop: '0px' }),\n        h(\n          'el-popover',\n          { props: { placement: 'top-start', width: '270', trigger: 'hover' }},\n          [\n            h('p', '是否在表单编辑时能够编辑，打√表示需要', { class: 'text-align: center; margin: 0' }),\n            // 生成 i 标签 ，添加icon 设置 样式，slot 必填\n            h('i', { class: 'el-icon-question', style: 'color:#ccc,padding-top:5px', slot: 'reference' })\n          ]\n        )\n      ])\n    },\n    renderHeadeList(h, { column, $index }) {\n      // h 是一个渲染函数       column 是一个对象表示当前列      $index 第几列\n      return h('div', [\n        h('span', column.label + '  ', { align: 'center', marginTop: '0px' }),\n        h(\n          'el-popover',\n          { props: { placement: 'top-start', width: '260', trigger: 'hover' }},\n          [\n            h('p', '是否在列表中展示，打√表示需要展示', { class: 'text-align: center; margin: 0' }),\n            h('i', { class: 'el-icon-question', style: 'color:#ccc,padding-top:5px', slot: 'reference' })\n          ]\n        )\n      ])\n    },\n    renderHeadeSearch(h, { column, $index }) {\n      return h('div', [\n        h('span', column.label + '  ', { align: 'center', marginTop: '0px' }),\n        h(\n          'el-popover',\n          { props: { placement: 'top-start', width: '270', trigger: 'hover' }},\n          [\n            h('p', '是都当做搜索条件，打√表示做为搜索条件', { class: 'text-align: center; margin: 0' }),\n            h('i', { class: 'el-icon-question', style: 'color:#ccc,padding-top:5px', slot: 'reference' })\n          ]\n        )\n      ])\n    },\n    handleChangeConfig(row, index) {\n      this.tableTree.filter(function(item) {\n        if (item.tableName === row.fkTableName) {\n          row.fkCol = item.columns\n          // row.fkCol.unshift({ columnId: 0, columnName: '请选择' })\n        }\n      })\n    },\n    /** 提交按钮 */\n    submitForm() {\n      const basicForm = this.$refs.basicInfo.$refs.basicInfoForm\n      const genForm = this.$refs.genInfo.$refs.genInfoForm\n\n      Promise.all([basicForm, genForm].map(this.getFormPromise)).then(res => {\n        const validateResult = res.every(item => !!item)\n        if (validateResult) {\n          const genTable = Object.assign({}, basicForm.model, genForm.model)\n          genTable.columns = this.columns\n          genTable.params = {\n            treeCode: genTable.treeCode,\n            treeName: genTable.treeName,\n            treeParentCode: genTable.treeParentCode\n          }\n          genTable.isDataScope = JSON.parse(genTable.isDataScope)\n          genTable.isActions = JSON.parse(genTable.isActions)\n          genTable.isAuth = JSON.parse(genTable.isAuth)\n          updateGenTable(genTable).then(res => {\n            this.msgSuccess(res.msg)\n            if (res.code === 200) {\n              this.close()\n            }\n          })\n        } else {\n          this.msgError('表单校验未通过，请重新检查提交内容')\n        }\n      })\n    },\n    getTables() {\n      getTableTree().then(response => {\n        this.tableTree = response.data\n        this.tableTree.unshift({ tableId: 0, className: '请选择' })\n      })\n    },\n    getTablesCol(tableName) {\n      return this.tableTree.filter(function(item) {\n        if (item.tableName === tableName) {\n          return item.columns\n        }\n      })\n    },\n    getFormPromise(form) {\n      return new Promise(resolve => {\n        form.validate(res => {\n          resolve(res)\n        })\n      })\n    },\n    /** 关闭按钮 */\n    close() {\n      this.$store.dispatch('tagsView/delView', this.$route)\n      this.$router.push({ path: '/dev-tools/gen', query: { t: Date.now() }})\n    }\n  }\n}\n</script>\n"]}]}