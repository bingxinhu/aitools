{"remainingRequest":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/admin/sys-user/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/admin/sys-user/index.vue","mtime":1669257735079},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1670489673015},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1670489672091}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3RVc2VyLCBnZXRVc2VyLCBkZWxVc2VyLCBhZGRVc2VyLCB1cGRhdGVVc2VyLCBleHBvcnRVc2VyLCByZXNldFVzZXJQd2QsIGNoYW5nZVVzZXJTdGF0dXMsIGltcG9ydFRlbXBsYXRlIH0gZnJvbSAnQC9hcGkvYWRtaW4vc3lzLXVzZXInCmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJwoKaW1wb3J0IHsgbGlzdFBvc3QgfSBmcm9tICdAL2FwaS9hZG1pbi9zeXMtcG9zdCcKaW1wb3J0IHsgbGlzdFJvbGUgfSBmcm9tICdAL2FwaS9hZG1pbi9zeXMtcm9sZScKaW1wb3J0IHsgdHJlZXNlbGVjdCB9IGZyb20gJ0AvYXBpL2FkbWluL3N5cy1kZXB0JwoKaW1wb3J0IFRyZWVzZWxlY3QgZnJvbSAnQHJpb3BoYWUvdnVlLXRyZWVzZWxlY3QnCmltcG9ydCAnQHJpb3BoYWUvdnVlLXRyZWVzZWxlY3QvZGlzdC92dWUtdHJlZXNlbGVjdC5jc3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N5c1VzZXJNYW5hZ2UnLAogIGNvbXBvbmVudHM6IHsgVHJlZXNlbGVjdCB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDnlKjmiLfooajmoLzmlbDmja4KICAgICAgdXNlckxpc3Q6IG51bGwsCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogJycsCiAgICAgIC8vIOmDqOmXqOagkemAiemhuQogICAgICBkZXB0T3B0aW9uczogdW5kZWZpbmVkLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOmDqOmXqOWQjeensAogICAgICBkZXB0TmFtZTogdW5kZWZpbmVkLAogICAgICAvLyDpu5jorqTlr4bnoIEKICAgICAgaW5pdFBhc3N3b3JkOiB1bmRlZmluZWQsCiAgICAgIC8vIOaXpeacn+iMg+WbtAogICAgICBkYXRlUmFuZ2U6IFtdLAogICAgICAvLyDnirbmgIHmlbDmja7lrZflhbgKICAgICAgc3RhdHVzT3B0aW9uczogW10sCiAgICAgIC8vIOaAp+WIq+eKtuaAgeWtl+WFuAogICAgICBzZXhPcHRpb25zOiBbXSwKICAgICAgLy8g5bKX5L2N6YCJ6aG5CiAgICAgIHBvc3RPcHRpb25zOiBbXSwKICAgICAgLy8g6KeS6Imy6YCJ6aG5CiAgICAgIHJvbGVPcHRpb25zOiBbXSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBjaGlsZHJlbjogJ2NoaWxkcmVuJywKICAgICAgICBsYWJlbDogJ2xhYmVsJwogICAgICB9LAogICAgICAvLyDnlKjmiLflr7zlhaXlj4LmlbAKICAgICAgdXBsb2FkOiB7CiAgICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGC77yI55So5oi35a+85YWl77yJCiAgICAgICAgb3BlbjogZmFsc2UsCiAgICAgICAgLy8g5by55Ye65bGC5qCH6aKY77yI55So5oi35a+85YWl77yJCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIC8vIOaYr+WQpuemgeeUqOS4iuS8oAogICAgICAgIGlzVXBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAvLyDmmK/lkKbmm7TmlrDlt7Lnu4/lrZjlnKjnmoTnlKjmiLfmlbDmja4KICAgICAgICB1cGRhdGVTdXBwb3J0OiAwLAogICAgICAgIC8vIOiuvue9ruS4iuS8oOeahOivt+axguWktOmDqAogICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgZ2V0VG9rZW4oKSB9LAogICAgICAgIC8vIOS4iuS8oOeahOWcsOWdgAogICAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSArICcvc3lzdGVtL3VzZXIvaW1wb3J0RGF0YScKICAgICAgfSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZUluZGV4OiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICB1c2VybmFtZTogdW5kZWZpbmVkLAogICAgICAgIHBob25lOiB1bmRlZmluZWQsCiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQsCiAgICAgICAgZGVwdElkOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn55So5oi35ZCN56ew5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgIG5pY2tOYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+eUqOaIt+aYteensOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBkZXB0SWQ6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5b2S5bGe6YOo6Zeo5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgIHBhc3N3b3JkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+eUqOaIt+WvhueggeS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBlbWFpbDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+mCrueuseWcsOWdgOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgeyB0eXBlOiAnZW1haWwnLCBtZXNzYWdlOiAiJ+ivt+i+k+WFpeato+ehrueahOmCrueuseWcsOWdgCIsIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXSB9CiAgICAgICAgXSwKICAgICAgICBwaG9uZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+aJi+acuuWPt+eggeS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgeyBwYXR0ZXJuOiAvXjFbM3w0fDV8Nnw3fDh8OV1bMC05XVxkezh9JC8sIG1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7nmoTmiYvmnLrlj7fnoIEnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOagueaNruWQjeensOetm+mAiemDqOmXqOagkQogICAgZGVwdE5hbWUodmFsKSB7CiAgICAgIHRoaXMuJHJlZnMudHJlZS5maWx0ZXIodmFsKQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB0aGlzLmdldFRyZWVzZWxlY3QoKQogICAgdGhpcy5nZXREaWN0cygnc3lzX25vcm1hbF9kaXNhYmxlJykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMuc3RhdHVzT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGEKICAgIH0pCiAgICB0aGlzLmdldERpY3RzKCdzeXNfdXNlcl9zZXgnKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgdGhpcy5zZXhPcHRpb25zID0gcmVzcG9uc2UuZGF0YQogICAgfSkKICAgIHRoaXMuZ2V0Q29uZmlnS2V5KCdzeXNfdXNlcl9pbml0UGFzc3dvcmQnKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgdGhpcy5pbml0UGFzc3dvcmQgPSByZXNwb25zZS5kYXRhLmNvbmZpZ1ZhbHVlCiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgLyoqIOafpeivoueUqOaIt+WIl+ihqCAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICBsaXN0VXNlcih0aGlzLmFkZERhdGVSYW5nZSh0aGlzLnF1ZXJ5UGFyYW1zLCB0aGlzLmRhdGVSYW5nZSkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMudXNlckxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3QKICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS5jb3VudAogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIH0KICAgICAgKQogICAgfSwKICAgIC8qKiDmn6Xor6Lpg6jpl6jkuIvmi4nmoJHnu5PmnoQgKi8KICAgIGdldFRyZWVzZWxlY3QoKSB7CiAgICAgIHRyZWVzZWxlY3QoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmRlcHRPcHRpb25zID0gcmVzcG9uc2UuZGF0YQogICAgICB9KQogICAgfSwKICAgIC8vIOetm+mAieiKgueCuQogICAgZmlsdGVyTm9kZSh2YWx1ZSwgZGF0YSkgewogICAgICBpZiAoIXZhbHVlKSByZXR1cm4gdHJ1ZQogICAgICByZXR1cm4gZGF0YS5sYWJlbC5pbmRleE9mKHZhbHVlKSAhPT0gLTEKICAgIH0sCiAgICAvLyDoioLngrnljZXlh7vkuovku7YKICAgIGhhbmRsZU5vZGVDbGljayhkYXRhKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMuZGVwdElkID0gJy8nICsgZGF0YS5pZCArICcvJwogICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIC8qKiDovazmjaLoj5zljZXmlbDmja7nu5PmnoQgKi8KICAgIG5vcm1hbGl6ZXIobm9kZSkgewogICAgICBpZiAobm9kZS5jaGlsZHJlbiAmJiAhbm9kZS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICBkZWxldGUgbm9kZS5jaGlsZHJlbgogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IG5vZGUuaWQsCiAgICAgICAgbGFiZWw6IG5vZGUubGFiZWwsCiAgICAgICAgY2hpbGRyZW46IG5vZGUuY2hpbGRyZW4KICAgICAgfQogICAgfSwKICAgIC8qKiDmjpLluo/lm57osIPlh73mlbAgKi8KICAgIGhhbmRsZVNvcnRDaGFuZyhjb2x1bW4sIHByb3AsIG9yZGVyKSB7CiAgICAgIHByb3AgPSBjb2x1bW4ucHJvcAogICAgICBvcmRlciA9IGNvbHVtbi5vcmRlcgogICAgICBpZiAodGhpcy5vcmRlciAhPT0gJycgJiYgdGhpcy5vcmRlciAhPT0gcHJvcCArICdPcmRlcicpIHsKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zW3RoaXMub3JkZXJdID0gdW5kZWZpbmVkCiAgICAgIH0KICAgICAgaWYgKG9yZGVyID09PSAnZGVzY2VuZGluZycpIHsKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zW3Byb3AgKyAnT3JkZXInXSA9ICdkZXNjJwogICAgICAgIHRoaXMub3JkZXIgPSBwcm9wICsgJ09yZGVyJwogICAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnYXNjZW5kaW5nJykgewogICAgICAgIHRoaXMucXVlcnlQYXJhbXNbcHJvcCArICdPcmRlciddID0gJ2FzYycKICAgICAgICB0aGlzLm9yZGVyID0gcHJvcCArICdPcmRlcicKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zW3Byb3AgKyAnT3JkZXInXSA9IHVuZGVmaW5lZAogICAgICB9CiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgLy8g55So5oi354q25oCB5L+u5pS5CiAgICBoYW5kbGVTdGF0dXNDaGFuZ2Uocm93KSB7CiAgICAgIGNvbnN0IHRleHQgPSByb3cuc3RhdHVzID09PSAnMicgPyAn5ZCv55SoJyA6ICflgZznlKgnCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOimgSInICsgdGV4dCArICciIicgKyByb3cudXNlcm5hbWUgKyAnIueUqOaIt+WQlz8nLCAn6K2m5ZGKJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gY2hhbmdlVXNlclN0YXR1cyhyb3cpCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMubXNnU3VjY2Vzcyh0ZXh0ICsgJ+aIkOWKnycpCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKCkgewogICAgICAgIHJvdy5zdGF0dXMgPSByb3cuc3RhdHVzID09PSAnMicgPyAnMScgOiAnMicKICAgICAgfSkKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2UKICAgICAgdGhpcy5yZXNldCgpCiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIHVzZXJJZDogdW5kZWZpbmVkLAogICAgICAgIGRlcHRJZDogdW5kZWZpbmVkLAogICAgICAgIHVzZXJuYW1lOiB1bmRlZmluZWQsCiAgICAgICAgbmlja05hbWU6IHVuZGVmaW5lZCwKICAgICAgICBwYXNzd29yZDogdW5kZWZpbmVkLAogICAgICAgIHBob25lOiB1bmRlZmluZWQsCiAgICAgICAgZW1haWw6IHVuZGVmaW5lZCwKICAgICAgICBzZXg6IHVuZGVmaW5lZCwKICAgICAgICBzdGF0dXM6ICcyJywKICAgICAgICByZW1hcms6IHVuZGVmaW5lZCwKICAgICAgICBwb3N0SWRzOiB1bmRlZmluZWQsCiAgICAgICAgcm9sZUlkczogdW5kZWZpbmVkCiAgICAgIH0KICAgICAgdGhpcy5yZXNldEZvcm0oJ2Zvcm0nKQogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2UgPSAxCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5kYXRlUmFuZ2UgPSBbXQogICAgICB0aGlzLnJlc2V0Rm9ybSgncXVlcnlGb3JtJykKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5kZXB0SWQgPSAnJwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCkKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS51c2VySWQpCiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCAhPT0gMQogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGgKICAgIH0sCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMucmVzZXQoKQogICAgICB0aGlzLmdldFRyZWVzZWxlY3QoKQoKICAgICAgbGlzdFBvc3QoeyBwYWdlU2l6ZTogMTAwMCB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnBvc3RPcHRpb25zID0gcmVzcG9uc2UuZGF0YS5saXN0CiAgICAgIH0pCiAgICAgIGxpc3RSb2xlKHsgcGFnZVNpemU6IDEwMDAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5yb2xlT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGEubGlzdAogICAgICB9KQogICAgICB0aGlzLm9wZW4gPSB0cnVlCiAgICAgIHRoaXMudGl0bGUgPSAn5re75Yqg55So5oi3JwogICAgICB0aGlzLmZvcm0ucGFzc3dvcmQgPSB0aGlzLmluaXRQYXNzd29yZAogICAgfSwKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5yZXNldCgpCgogICAgICBjb25zdCB1c2VySWQgPSByb3cudXNlcklkIHx8IHRoaXMuaWRzCiAgICAgIGdldFVzZXIodXNlcklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmZvcm0gPSByZXNwb25zZS5kYXRhCiAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZQogICAgICAgIHRoaXMudGl0bGUgPSAn5L+u5pS555So5oi3JwogICAgICAgIHRoaXMuZm9ybS5wYXNzd29yZCA9ICcnCiAgICAgIH0pCiAgICAgIGxpc3RQb3N0KHsgcGFnZVNpemU6IDEwMDAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5wb3N0T3B0aW9ucyA9IHJlc3BvbnNlLmRhdGEubGlzdAogICAgICB9KQogICAgICBsaXN0Um9sZSh7IHBhZ2VTaXplOiAxMDAwIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMucm9sZU9wdGlvbnMgPSByZXNwb25zZS5kYXRhLmxpc3QKICAgICAgfSkKICAgIH0sCiAgICAvKiog6YeN572u5a+G56CB5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVSZXNldFB3ZChyb3cpIHsKICAgICAgdGhpcy4kcHJvbXB0KCfor7fovpPlhaUiJyArIHJvdy51c2VybmFtZSArICci55qE5paw5a+G56CBJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcKICAgICAgfSkudGhlbigoeyB2YWx1ZSB9KSA9PiB7CiAgICAgICAgcmVzZXRVc2VyUHdkKHJvdy51c2VySWQsIHZhbHVlKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKHJlc3BvbnNlLm1zZykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMubXNnRXJyb3IocmVzcG9uc2UubXNnKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KQogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKHRoaXMuZm9ybS51c2VySWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB1cGRhdGVVc2VyKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKHJlc3BvbnNlLm1zZykKICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLm1zZ0Vycm9yKHJlc3BvbnNlLm1zZykKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGRVc2VyKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKHJlc3BvbnNlLm1zZykKICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLm1zZ0Vycm9yKHJlc3BvbnNlLm1zZykKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgY29uc3QgSWRzID0gKHJvdy51c2VySWQgJiYgW3Jvdy51c2VySWRdKSB8fCB0aGlzLmlkcwogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTnlKjmiLfnvJblj7fkuLoiJyArIElkcyArICci55qE5pWw5o2u6aG5PycsICforablkYonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBkZWxVc2VyKHsgJ2lkcyc6IElkcyB9KQogICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMubXNnU3VjY2VzcyhyZXNwb25zZS5tc2cpCiAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZQogICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5tc2dFcnJvcihyZXNwb25zZS5tc2cpCiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbigpIHt9KQogICAgfSwKICAgIC8qKiDlr7zlh7rmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUV4cG9ydCgpIHsKICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB0aGlzLnF1ZXJ5UGFyYW1zCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWvvOWHuuaJgOacieeUqOaIt+aVsOaNrumhuT8nLCAn6K2m5ZGKJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gZXhwb3J0VXNlcihxdWVyeVBhcmFtcykKICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5kb3dubG9hZChyZXNwb25zZS5tc2cpCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKCkge30pCiAgICB9LAogICAgLyoqIOWvvOWFpeaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlSW1wb3J0KCkgewogICAgICB0aGlzLnVwbG9hZC50aXRsZSA9ICfnlKjmiLflr7zlhaUnCiAgICAgIHRoaXMudXBsb2FkLm9wZW4gPSB0cnVlCiAgICB9LAogICAgLyoqIOS4i+i9veaooeadv+aTjeS9nCAqLwogICAgaW1wb3J0VGVtcGxhdGUoKSB7CiAgICAgIGltcG9ydFRlbXBsYXRlKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5kb3dubG9hZChyZXNwb25zZS5tc2cpCiAgICAgIH0pCiAgICB9LAogICAgLy8g5paH5Lu25LiK5Lyg5Lit5aSE55CGCiAgICBoYW5kbGVGaWxlVXBsb2FkUHJvZ3Jlc3MoZXZlbnQsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMudXBsb2FkLmlzVXBsb2FkaW5nID0gdHJ1ZQogICAgfSwKICAgIC8vIOaWh+S7tuS4iuS8oOaIkOWKn+WkhOeQhgogICAgaGFuZGxlRmlsZVN1Y2Nlc3MocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMudXBsb2FkLm9wZW4gPSBmYWxzZQogICAgICB0aGlzLnVwbG9hZC5pc1VwbG9hZGluZyA9IGZhbHNlCiAgICAgIHRoaXMuJHJlZnMudXBsb2FkLmNsZWFyRmlsZXMoKQogICAgICB0aGlzLiRhbGVydChyZXNwb25zZS5tc2csICflr7zlhaXnu5PmnpwnLCB7IGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSB9KQogICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIC8vIOaPkOS6pOS4iuS8oOaWh+S7tgogICAgc3VibWl0RmlsZUZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnMudXBsb2FkLnN1Ym1pdCgpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8TA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/admin/sys-user","sourcesContent":["<template>\n  <BasicLayout>\n    <template #wrapper>\n      <el-card class=\"box-card\">\n        <el-row :gutter=\"20\">\n          <!--部门数据-->\n          <el-col :span=\"4\" :xs=\"24\">\n            <div class=\"head-container\">\n              <el-input\n                v-model=\"deptName\"\n                placeholder=\"请输入部门名称\"\n                clearable\n                size=\"small\"\n                prefix-icon=\"el-icon-search\"\n                style=\"margin-bottom: 20px\"\n              />\n            </div>\n            <div class=\"head-container\">\n              <el-tree\n                ref=\"tree\"\n                :data=\"deptOptions\"\n                :props=\"defaultProps\"\n                :expand-on-click-node=\"false\"\n                :filter-node-method=\"filterNode\"\n                default-expand-all\n                @node-click=\"handleNodeClick\"\n              />\n            </div>\n          </el-col>\n          <!--用户数据-->\n          <el-col :span=\"20\" :xs=\"24\">\n            <el-form ref=\"queryForm\" :model=\"queryParams\" :inline=\"true\" label-width=\"68px\">\n              <el-form-item label=\"用户名称\" prop=\"username\">\n                <el-input\n                  v-model=\"queryParams.username\"\n                  placeholder=\"请输入用户名称\"\n                  clearable\n                  size=\"small\"\n                  style=\"width: 160px\"\n                  @keyup.enter.native=\"handleQuery\"\n                />\n              </el-form-item>\n              <el-form-item label=\"手机号码\" prop=\"phone\">\n                <el-input\n                  v-model=\"queryParams.phone\"\n                  placeholder=\"请输入手机号码\"\n                  clearable\n                  size=\"small\"\n                  style=\"width: 160px\"\n                  @keyup.enter.native=\"handleQuery\"\n                />\n              </el-form-item>\n              <el-form-item label=\"状态\" prop=\"status\">\n                <el-select\n                  v-model=\"queryParams.status\"\n                  placeholder=\"用户状态\"\n                  clearable\n                  size=\"small\"\n                  style=\"width: 160px\"\n                >\n                  <el-option\n                    v-for=\"dict in statusOptions\"\n                    :key=\"dict.value\"\n                    :label=\"dict.label\"\n                    :value=\"dict.value\"\n                  />\n                </el-select>\n              </el-form-item>\n              <el-form-item>\n                <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n                <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n              </el-form-item>\n            </el-form>\n\n            <el-row :gutter=\"10\" class=\"mb8\">\n              <el-col :span=\"1.5\">\n                <el-button\n                  v-permisaction=\"['admin:sysUser:add']\"\n                  type=\"primary\"\n                  icon=\"el-icon-plus\"\n                  size=\"mini\"\n                  @click=\"handleAdd\"\n                >新增</el-button>\n              </el-col>\n              <el-col :span=\"1.5\">\n                <el-button\n                  v-permisaction=\"['admin:sysUser:edit']\"\n                  type=\"success\"\n                  icon=\"el-icon-edit\"\n                  size=\"mini\"\n                  :disabled=\"single\"\n                  @click=\"handleUpdate\"\n                >修改</el-button>\n              </el-col>\n              <el-col :span=\"1.5\">\n                <el-button\n                  v-permisaction=\"['admin:sysUser:remove']\"\n                  type=\"danger\"\n                  icon=\"el-icon-delete\"\n                  size=\"mini\"\n                  :disabled=\"multiple\"\n                  @click=\"handleDelete\"\n                >删除</el-button>\n              </el-col>\n            </el-row>\n\n            <el-table\n              v-loading=\"loading\"\n              :data=\"userList\"\n              border\n              @selection-change=\"handleSelectionChange\"\n              @sort-change=\"handleSortChang\"\n            >\n              <el-table-column type=\"selection\" width=\"45\" align=\"center\" />\n              <el-table-column label=\"编号\" width=\"75\" prop=\"userId\" sortable=\"custom\" />\n              <el-table-column label=\"登录名\" width=\"105\" prop=\"username\" sortable=\"custom\" :show-overflow-tooltip=\"true\" />\n              <el-table-column label=\"昵称\" prop=\"nickName\" :show-overflow-tooltip=\"true\" />\n              <el-table-column label=\"部门\" prop=\"dept.deptName\" :show-overflow-tooltip=\"true\" />\n              <el-table-column label=\"手机号\" prop=\"phone\" width=\"108\" />\n              <el-table-column label=\"状态\" width=\"80\" sortable=\"custom\">\n                <template slot-scope=\"scope\">\n                  <el-switch\n                    v-model=\"scope.row.status\"\n                    active-value=\"2\"\n                    inactive-value=\"1\"\n                    @change=\"handleStatusChange(scope.row)\"\n                  />\n                </template>\n              </el-table-column>\n              <el-table-column\n                label=\"创建时间\"\n                prop=\"createdAt\"\n                sortable=\"custom\"\n                width=\"155\"\n              >\n                <template slot-scope=\"scope\">\n                  <span>{{ parseTime(scope.row.createdAt) }}</span>\n                </template>\n              </el-table-column>\n              <el-table-column\n                label=\"操作\"\n                width=\"160\"\n\n                fix=\"right\"\n                class-name=\"small-padding fixed-width\"\n              >\n                <template slot-scope=\"scope\">\n                  <el-button\n                    v-permisaction=\"['admin:sysUser:edit']\"\n                    size=\"mini\"\n                    type=\"text\"\n                    icon=\"el-icon-edit\"\n                    @click=\"handleUpdate(scope.row)\"\n                  >修改</el-button>\n                  <el-button\n                    v-if=\"scope.row.userId !== 1\"\n                    v-permisaction=\"['admin:sysUser:remove']\"\n                    size=\"mini\"\n                    type=\"text\"\n                    icon=\"el-icon-delete\"\n                    @click=\"handleDelete(scope.row)\"\n                  >删除</el-button>\n                  <el-button\n                    v-permisaction=\"['admin:sysUser:resetPassword']\"\n                    size=\"mini\"\n                    type=\"text\"\n                    icon=\"el-icon-key\"\n                    @click=\"handleResetPwd(scope.row)\"\n                  >重置</el-button>\n                </template>\n              </el-table-column>\n            </el-table>\n\n            <pagination\n              v-show=\"total>0\"\n              :total=\"total\"\n              :page.sync=\"queryParams.pageIndex\"\n              :limit.sync=\"queryParams.pageSize\"\n              @pagination=\"getList\"\n            />\n          </el-col>\n        </el-row>\n      </el-card>\n      <!-- 添加或修改参数配置对话框 -->\n      <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"600px\" :close-on-click-modal=\"false\">\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item label=\"用户昵称\" prop=\"nickName\">\n                <el-input v-model=\"form.nickName\" placeholder=\"请输入用户昵称\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"归属部门\" prop=\"deptId\">\n                <treeselect\n                  v-model=\"form.deptId\"\n                  :options=\"deptOptions\"\n                  placeholder=\"请选择归属部门\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"手机号码\" prop=\"phone\">\n                <el-input v-model=\"form.phone\" placeholder=\"请输入手机号码\" maxlength=\"11\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"邮箱\" prop=\"email\">\n                <el-input v-model=\"form.email\" placeholder=\"请输入邮箱\" maxlength=\"50\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"用户名称\" prop=\"username\">\n                <el-input v-model=\"form.username\" placeholder=\"请输入用户名称\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item v-if=\"form.userId == undefined\" label=\"用户密码\" prop=\"password\">\n                <el-input v-model=\"form.password\" placeholder=\"请输入用户密码\" type=\"password\" />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"用户性别\">\n                <el-select v-model=\"form.sex\" placeholder=\"请选择\">\n                  <el-option\n                    v-for=\"dict in sexOptions\"\n                    :key=\"dict.value\"\n                    :label=\"dict.label\"\n                    :value=\"dict.value\"\n                  />\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"状态\">\n                <el-radio-group v-model=\"form.status\">\n                  <el-radio\n                    v-for=\"dict in statusOptions\"\n                    :key=\"dict.value\"\n                    :label=\"dict.value\"\n                  >{{ dict.label }}</el-radio>\n                </el-radio-group>\n              </el-form-item>\n            </el-col>\n\n            <el-col :span=\"12\">\n              <el-form-item label=\"岗位\">\n                <el-select v-model=\"form.postId\" placeholder=\"请选择\" @change=\"$forceUpdate()\">\n                  <el-option\n                    v-for=\"item in postOptions\"\n                    :key=\"item.postId\"\n                    :label=\"item.postName\"\n                    :value=\"item.postId\"\n                    :disabled=\"item.status == 1\"\n                  />\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"角色\">\n                <el-select v-model=\"form.roleId\" placeholder=\"请选择\" @change=\"$forceUpdate()\">\n                  <el-option\n                    v-for=\"item in roleOptions\"\n                    :key=\"item.roleId\"\n                    :label=\"item.roleName\"\n                    :value=\"item.roleId\"\n                    :disabled=\"item.status == 1\"\n                  />\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"24\">\n              <el-form-item label=\"备注\">\n                <el-input v-model=\"form.remark\" type=\"textarea\" placeholder=\"请输入内容\" />\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n          <el-button @click=\"cancel\">取 消</el-button>\n        </div>\n      </el-dialog>\n      <!-- 用户导入对话框 -->\n      <el-dialog :title=\"upload.title\" :visible.sync=\"upload.open\" width=\"400px\" :close-on-click-modal=\"false\">\n        <el-upload\n          ref=\"upload\"\n          :limit=\"1\"\n          accept=\".xlsx, .xls\"\n          :headers=\"upload.headers\"\n          :action=\"upload.url + '?updateSupport=' + upload.updateSupport\"\n          :disabled=\"upload.isUploading\"\n          :on-progress=\"handleFileUploadProgress\"\n          :on-success=\"handleFileSuccess\"\n          :auto-upload=\"false\"\n          drag\n        >\n          <i class=\"el-icon-upload\" />\n          <div class=\"el-upload__text\">\n            将文件拖到此处，或\n            <em>点击上传</em>\n          </div>\n          <div slot=\"tip\" class=\"el-upload__tip\">\n            <el-checkbox v-model=\"upload.updateSupport\" />是否更新已经存在的用户数据\n            <el-link type=\"info\" style=\"font-size:12px\" @click=\"importTemplate\">下载模板</el-link>\n          </div>\n          <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red\">提示：仅允许导入“xls”或“xlsx”格式文件！</div>\n        </el-upload>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button type=\"primary\" @click=\"submitFileForm\">确 定</el-button>\n          <el-button @click=\"upload.open = false\">取 消</el-button>\n        </div>\n      </el-dialog>\n    </template>\n  </BasicLayout>\n</template>\n\n<script>\nimport { listUser, getUser, delUser, addUser, updateUser, exportUser, resetUserPwd, changeUserStatus, importTemplate } from '@/api/admin/sys-user'\nimport { getToken } from '@/utils/auth'\n\nimport { listPost } from '@/api/admin/sys-post'\nimport { listRole } from '@/api/admin/sys-role'\nimport { treeselect } from '@/api/admin/sys-dept'\n\nimport Treeselect from '@riophae/vue-treeselect'\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\n\nexport default {\n  name: 'SysUserManage',\n  components: { Treeselect },\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 总条数\n      total: 0,\n      // 用户表格数据\n      userList: null,\n      // 弹出层标题\n      title: '',\n      // 部门树选项\n      deptOptions: undefined,\n      // 是否显示弹出层\n      open: false,\n      // 部门名称\n      deptName: undefined,\n      // 默认密码\n      initPassword: undefined,\n      // 日期范围\n      dateRange: [],\n      // 状态数据字典\n      statusOptions: [],\n      // 性别状态字典\n      sexOptions: [],\n      // 岗位选项\n      postOptions: [],\n      // 角色选项\n      roleOptions: [],\n      // 表单参数\n      form: {},\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      // 用户导入参数\n      upload: {\n        // 是否显示弹出层（用户导入）\n        open: false,\n        // 弹出层标题（用户导入）\n        title: '',\n        // 是否禁用上传\n        isUploading: false,\n        // 是否更新已经存在的用户数据\n        updateSupport: 0,\n        // 设置上传的请求头部\n        headers: { Authorization: 'Bearer ' + getToken() },\n        // 上传的地址\n        url: process.env.VUE_APP_BASE_API + '/system/user/importData'\n      },\n      // 查询参数\n      queryParams: {\n        pageIndex: 1,\n        pageSize: 10,\n        username: undefined,\n        phone: undefined,\n        status: undefined,\n        deptId: undefined\n      },\n      // 表单校验\n      rules: {\n        username: [{ required: true, message: '用户名称不能为空', trigger: 'blur' }],\n        nickName: [{ required: true, message: '用户昵称不能为空', trigger: 'blur' }],\n        deptId: [{ required: true, message: '归属部门不能为空', trigger: 'blur' }],\n        password: [{ required: true, message: '用户密码不能为空', trigger: 'blur' }],\n        email: [\n          { required: true, message: '邮箱地址不能为空', trigger: 'blur' },\n          { type: 'email', message: \"'请输入正确的邮箱地址\", trigger: ['blur', 'change'] }\n        ],\n        phone: [\n          { required: true, message: '手机号码不能为空', trigger: 'blur' },\n          { pattern: /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/, message: '请输入正确的手机号码', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  watch: {\n    // 根据名称筛选部门树\n    deptName(val) {\n      this.$refs.tree.filter(val)\n    }\n  },\n  created() {\n    this.getList()\n    this.getTreeselect()\n    this.getDicts('sys_normal_disable').then(response => {\n      this.statusOptions = response.data\n    })\n    this.getDicts('sys_user_sex').then(response => {\n      this.sexOptions = response.data\n    })\n    this.getConfigKey('sys_user_initPassword').then(response => {\n      this.initPassword = response.data.configValue\n    })\n  },\n  methods: {\n    /** 查询用户列表 */\n    getList() {\n      this.loading = true\n      listUser(this.addDateRange(this.queryParams, this.dateRange)).then(response => {\n        this.userList = response.data.list\n        this.total = response.data.count\n        this.loading = false\n      }\n      )\n    },\n    /** 查询部门下拉树结构 */\n    getTreeselect() {\n      treeselect().then(response => {\n        this.deptOptions = response.data\n      })\n    },\n    // 筛选节点\n    filterNode(value, data) {\n      if (!value) return true\n      return data.label.indexOf(value) !== -1\n    },\n    // 节点单击事件\n    handleNodeClick(data) {\n      this.queryParams.deptId = '/' + data.id + '/'\n      this.getList()\n    },\n    /** 转换菜单数据结构 */\n    normalizer(node) {\n      if (node.children && !node.children.length) {\n        delete node.children\n      }\n      return {\n        id: node.id,\n        label: node.label,\n        children: node.children\n      }\n    },\n    /** 排序回调函数 */\n    handleSortChang(column, prop, order) {\n      prop = column.prop\n      order = column.order\n      if (this.order !== '' && this.order !== prop + 'Order') {\n        this.queryParams[this.order] = undefined\n      }\n      if (order === 'descending') {\n        this.queryParams[prop + 'Order'] = 'desc'\n        this.order = prop + 'Order'\n      } else if (order === 'ascending') {\n        this.queryParams[prop + 'Order'] = 'asc'\n        this.order = prop + 'Order'\n      } else {\n        this.queryParams[prop + 'Order'] = undefined\n      }\n      this.getList()\n    },\n    // 用户状态修改\n    handleStatusChange(row) {\n      const text = row.status === '2' ? '启用' : '停用'\n      this.$confirm('确认要\"' + text + '\"\"' + row.username + '\"用户吗?', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function() {\n        return changeUserStatus(row)\n      }).then(() => {\n        this.msgSuccess(text + '成功')\n      }).catch(function() {\n        row.status = row.status === '2' ? '1' : '2'\n      })\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false\n      this.reset()\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        userId: undefined,\n        deptId: undefined,\n        username: undefined,\n        nickName: undefined,\n        password: undefined,\n        phone: undefined,\n        email: undefined,\n        sex: undefined,\n        status: '2',\n        remark: undefined,\n        postIds: undefined,\n        roleIds: undefined\n      }\n      this.resetForm('form')\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.page = 1\n      this.getList()\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.dateRange = []\n      this.resetForm('queryForm')\n      this.queryParams.deptId = ''\n      this.handleQuery()\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.userId)\n      this.single = selection.length !== 1\n      this.multiple = !selection.length\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset()\n      this.getTreeselect()\n\n      listPost({ pageSize: 1000 }).then(response => {\n        this.postOptions = response.data.list\n      })\n      listRole({ pageSize: 1000 }).then(response => {\n        this.roleOptions = response.data.list\n      })\n      this.open = true\n      this.title = '添加用户'\n      this.form.password = this.initPassword\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset()\n\n      const userId = row.userId || this.ids\n      getUser(userId).then(response => {\n        this.form = response.data\n        this.open = true\n        this.title = '修改用户'\n        this.form.password = ''\n      })\n      listPost({ pageSize: 1000 }).then(response => {\n        this.postOptions = response.data.list\n      })\n      listRole({ pageSize: 1000 }).then(response => {\n        this.roleOptions = response.data.list\n      })\n    },\n    /** 重置密码按钮操作 */\n    handleResetPwd(row) {\n      this.$prompt('请输入\"' + row.username + '\"的新密码', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消'\n      }).then(({ value }) => {\n        resetUserPwd(row.userId, value).then(response => {\n          if (response.code === 200) {\n            this.msgSuccess(response.msg)\n          } else {\n            this.msgError(response.msg)\n          }\n        })\n      }).catch(() => {})\n    },\n    /** 提交按钮 */\n    submitForm: function() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          if (this.form.userId !== undefined) {\n            updateUser(this.form).then(response => {\n              if (response.code === 200) {\n                this.msgSuccess(response.msg)\n                this.open = false\n                this.getList()\n              } else {\n                this.msgError(response.msg)\n              }\n            })\n          } else {\n            addUser(this.form).then(response => {\n              if (response.code === 200) {\n                this.msgSuccess(response.msg)\n                this.open = false\n                this.getList()\n              } else {\n                this.msgError(response.msg)\n              }\n            })\n          }\n        }\n      })\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const Ids = (row.userId && [row.userId]) || this.ids\n      this.$confirm('是否确认删除用户编号为\"' + Ids + '\"的数据项?', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function() {\n        return delUser({ 'ids': Ids })\n      }).then((response) => {\n        if (response.code === 200) {\n          this.msgSuccess(response.msg)\n          this.open = false\n          this.getList()\n        } else {\n          this.msgError(response.msg)\n        }\n      }).catch(function() {})\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      const queryParams = this.queryParams\n      this.$confirm('是否确认导出所有用户数据项?', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function() {\n        return exportUser(queryParams)\n      }).then(response => {\n        this.download(response.msg)\n      }).catch(function() {})\n    },\n    /** 导入按钮操作 */\n    handleImport() {\n      this.upload.title = '用户导入'\n      this.upload.open = true\n    },\n    /** 下载模板操作 */\n    importTemplate() {\n      importTemplate().then(response => {\n        this.download(response.msg)\n      })\n    },\n    // 文件上传中处理\n    handleFileUploadProgress(event, file, fileList) {\n      this.upload.isUploading = true\n    },\n    // 文件上传成功处理\n    handleFileSuccess(response, file, fileList) {\n      this.upload.open = false\n      this.upload.isUploading = false\n      this.$refs.upload.clearFiles()\n      this.$alert(response.msg, '导入结果', { dangerouslyUseHTMLString: true })\n      this.getList()\n    },\n    // 提交上传文件\n    submitFileForm() {\n      this.$refs.upload.submit()\n    }\n  }\n}\n</script>\n"]}]}