{"remainingRequest":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/sys-tools/monitor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/sys-tools/monitor.vue","mtime":1669257735083},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1670489673015},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1670489672091}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDZWxsIGZyb20gJ0AvY29tcG9uZW50cy9DZWxsL2luZGV4JwppbXBvcnQgewogIGdldFNlcnZlcgp9IGZyb20gJ0AvYXBpL21vbml0b3Ivc2VydmVyJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01vbml0b3InLAogIGNvbXBvbmVudHM6IHsKICAgIENlbGwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmZvOiB7fSwKICAgICAgY3VzdG9tQ29sb3JzOiBbCiAgICAgICAgeyBjb2xvcjogJyMxM2NlNjYnLCBwZXJjZW50YWdlOiAyMCB9LAogICAgICAgIHsgY29sb3I6ICcjMTg5MGZmJywgcGVyY2VudGFnZTogNDAgfSwKICAgICAgICB7IGNvbG9yOiAnI2U2YTIzYycsIHBlcmNlbnRhZ2U6IDYwIH0sCiAgICAgICAgeyBjb2xvcjogJyMxOTg5ZmEnLCBwZXJjZW50YWdlOiA4MCB9LAogICAgICAgIHsgY29sb3I6ICcjRjU2QzZDJywgcGVyY2VudGFnZTogMTAwIH0KICAgICAgXSwKICAgICAgdGltZXI6IG51bGwKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFNlcnZlckluZm8oKQogICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgdGhpcy5nZXRTZXJ2ZXJJbmZvKCkKICAgIH0sIDUwMDApCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKQogICAgdGhpcy50aW1lciA9IG51bGwKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFNlcnZlckluZm8oKSB7CiAgICAgIGdldFNlcnZlcigpLnRoZW4ocmV0ID0+IHsKICAgICAgICBpZiAocmV0LmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5pbmZvID0gcmV0CiAgICAgICAgfQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["monitor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"monitor.vue","sourceRoot":"src/views/sys-tools","sourcesContent":["<template>\n  <div>\n    <BasicLayout>\n      <template #wrapper>\n        <el-row :gutter=\"10\" class=\"mb10\">\n          <el-col :sm=\"24\" :md=\"8\">\n            <el-card v-if=\"info.cpu\" class=\"box-card\" shadow=\"always\" :body-style=\"{paddingTop:'0 !important'}\">\n              <div slot=\"header\" class=\"clearfix\">\n                <el-row :gutter=\"10\">\n                  <el-col :sm=\"24\" :md=\"8\">\n                    <el-tag\n                      type=\"success\"\n                      effect=\"dark\"\n                    >\n                      {{ info.location }}\n                    </el-tag>\n                  </el-col>\n                  <el-col :sm=\"24\" :md=\"8\" class=\"\" style=\"line-height:28px;text-align:center;\">\n                    Aliyun\n                  </el-col>\n                </el-row>\n              </div>\n              <div class=\"monitor\" style=\"padding-top:0px;\">\n                <div class=\"monitor-content\">\n                  <el-row :gutter=\"10\">\n                    <el-col :sm=\"24\" :md=\"12\">\n                      <Cell label=\"系统\" :value=\"info.os.goOs\" border />\n                      <Cell label=\"内存\" :value=\"`${info.mem.used}MB/${info.mem.total}MB`\" border />\n                      <Cell label=\"交换\" :value=\"`${info.swap.used}/${info.swap.total}`\" border />\n                    </el-col>\n                    <el-col :sm=\"24\" :md=\"12\">\n                      <Cell label=\"时间\" :value=\"info.os.time\" border />\n                      <Cell label=\"在线\" :value=\"`${info.bootTime}小时`\" border />\n                      <Cell label=\"硬盘\" :value=\"`${info.disk.used}GB/${info.disk.total}GB`\" border />\n                    </el-col>\n                  </el-row>\n                  <el-row :gutter=\"10\">\n                    <el-col :sm=\"12\" :md=\"12\" class=\"line\">\n                      <el-col :sm=\"8\" :md=\"8\">\n                        下载<i class=\"el-icon-caret-bottom\" />\n                      </el-col>\n                      <el-col :sm=\"16\" :md=\"16\" class=\"line-value\">\n                        {{ info.net.in }}KB\n                      </el-col>\n                    </el-col>\n                    <el-col :sm=\"12\" :md=\"12\" class=\"line\">\n                      <el-col :sm=\"8\" :md=\"8\">\n                        上传<i class=\"el-icon-caret-top\" />\n                      </el-col>\n                      <el-col :sm=\"16\" :md=\"16\" class=\"line-value\">\n                        {{ info.net.out }}KB\n                      </el-col>\n                    </el-col>\n                  </el-row>\n                  <el-row :gutter=\"10\" class=\"monitor-progress\">\n                    <el-col :sm=\"24\" :md=\"4\">\n                      CPU\n                    </el-col>\n                    <el-col :sm=\"24\" :md=\"20\">\n                      <el-progress :color=\"customColors\" :text-inside=\"true\" :stroke-width=\"24\" :percentage=\"info.cpu.percent\" />\n                    </el-col>\n                  </el-row>\n                  <el-row :gutter=\"10\" class=\"monitor-progress\">\n                    <el-col :sm=\"24\" :md=\"4\">\n                      RAM\n                    </el-col>\n                    <el-col :sm=\"24\" :md=\"20\">\n                      <el-progress :color=\"customColors\" :text-inside=\"true\" :stroke-width=\"24\" :percentage=\"info.mem.percent\" />\n                    </el-col>\n                  </el-row>\n                  <el-row :gutter=\"10\" class=\"monitor-progress\">\n                    <el-col :sm=\"24\" :md=\"4\">\n                      硬盘\n                    </el-col>\n                    <el-col :sm=\"24\" :md=\"20\">\n                      <el-progress :color=\"customColors\" :text-inside=\"true\" :stroke-width=\"24\" :percentage=\"info.disk.percent\" />\n                    </el-col>\n                  </el-row>\n                  <!-- <el-progress :color=\"$store.state.settings.theme\" type=\"circle\" :percentage=\"info.cpu.Percent\" /> -->\n                </div>\n                <!-- <div class=\"monitor-footer\">\n\n                  <Cell label=\"CPU主频\" :value=\"info.cpu.cpuInfo[0].modelName.split('@ ')[1]\" border />\n                  <Cell label=\"核心数\" :value=\"`${info.cpu.cpuInfo[0].cores}`\" />\n                </div> -->\n              </div>\n            </el-card>\n          </el-col>\n\n          <!-- <el-card v-if=\"info.os\" class=\"box-card\">\n            <div slot=\"header\" class=\"clearfix\">\n              <span>go运行环境</span>\n            </div>\n            <div class=\"monitor\">\n              <Cell label=\"GO 版本\" :value=\"info.os.version\" border />\n              <Cell label=\"Goroutine\" :value=\"`${info.os.numGoroutine}`\" border />\n              <Cell label=\"项目地址\" :value=\"info.os.projectDir\" />\n            </div>\n          </el-card> -->\n\n          <el-card v-if=\"info.os\" class=\"box-card\">\n            <div slot=\"header\" class=\"clearfix\">\n              <span>服务器信息</span>\n            </div>\n            <div class=\"monitor\">\n              <Cell label=\"主机名称\" :value=\"info.os.hostName\" border />\n              <Cell label=\"操作系统\" :value=\"info.os.goOs\" border />\n              <Cell label=\"服务器IP\" :value=\"info.os.ip\" border />\n              <Cell label=\"系统架构\" :value=\"info.os.arch\" border />\n              <Cell label=\"CPU\" :value=\"info.cpu.cpuInfo[0].modelName\" border />\n              <Cell label=\"当前时间\" :value=\"info.os.time\" />\n            </div>\n          </el-card>\n\n        </el-row></template>\n    </BasicLayout>\n  </div>\n</template>\n\n<script>\nimport Cell from '@/components/Cell/index'\nimport {\n  getServer\n} from '@/api/monitor/server'\nexport default {\n  name: 'Monitor',\n  components: {\n    Cell\n  },\n  data() {\n    return {\n      info: {},\n      customColors: [\n        { color: '#13ce66', percentage: 20 },\n        { color: '#1890ff', percentage: 40 },\n        { color: '#e6a23c', percentage: 60 },\n        { color: '#1989fa', percentage: 80 },\n        { color: '#F56C6C', percentage: 100 }\n      ],\n      timer: null\n    }\n  },\n  created() {\n    this.getServerInfo()\n    this.timer = setInterval(() => {\n      this.getServerInfo()\n    }, 5000)\n  },\n  beforeDestroy() {\n    clearInterval(this.timer)\n    this.timer = null\n  },\n  methods: {\n    getServerInfo() {\n      getServer().then(ret => {\n        if (ret.code === 200) {\n          this.info = ret\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.line{\n  line-height: 49px;\n  font-size: 14px ;\n  padding-left: 0px !important;\n  padding-right: 0px !important;\n  .line-value{\n    text-align: right;\n    color: #969799;\n  }\n}\n\n.monitor {\n  .monitor-header {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .monitor-progress{\n    padding-top: 15px;\n  }\n}\n\n</style>\n"]}]}