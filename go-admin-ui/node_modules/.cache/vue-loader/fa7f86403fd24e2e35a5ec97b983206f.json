{"remainingRequest":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/profile/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/src/views/profile/index.vue","mtime":1669257735083},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/babel-loader/lib/index.js","mtime":1670489673015},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":1670489672947},{"path":"/home/cxhpc/workroot_lfs/goadmin/go-admin-ui/node_modules/vue-loader/lib/index.js","mtime":1670489672091}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1c2VyQXZhdGFyIGZyb20gJy4vdXNlckF2YXRhcicKaW1wb3J0IHVzZXJJbmZvIGZyb20gJy4vdXNlckluZm8nCmltcG9ydCByZXNldFB3ZCBmcm9tICcuL3Jlc2V0UHdkJwppbXBvcnQgeyBnZXRVc2VyUHJvZmlsZSB9IGZyb20gJ0AvYXBpL2FkbWluL3N5cy11c2VyJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9maWxlJywKICBjb21wb25lbnRzOiB7IHVzZXJBdmF0YXIsIHVzZXJJbmZvLCByZXNldFB3ZCB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7fSwKICAgICAgcm9sZUdyb3VwOiB7fSwKICAgICAgcG9zdEdyb3VwOiB7fSwKICAgICAgZGVwdEdyb3VwOiB7fSwKICAgICAgYWN0aXZlVGFiOiAndXNlcmluZm8nLAogICAgICByb2xlSWRzOiB1bmRlZmluZWQsCiAgICAgIHBvc3RJZHM6IHVuZGVmaW5lZCwKICAgICAgcm9sZU5hbWU6IHVuZGVmaW5lZCwKICAgICAgcG9zdE5hbWU6IHVuZGVmaW5lZCwKICAgICAgZGVwdDoge30sCiAgICAgIGRlcHROYW1lOiB1bmRlZmluZWQKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXIoKQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VXNlcigpIHsKICAgICAgZ2V0VXNlclByb2ZpbGUoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnVzZXIgPSByZXNwb25zZS5kYXRhLnVzZXIKICAgICAgICB0aGlzLnJvbGVJZHMgPSByZXNwb25zZS5kYXRhLnVzZXIucm9sZUlkcwogICAgICAgIHRoaXMucm9sZUdyb3VwID0gcmVzcG9uc2UuZGF0YS5yb2xlcwoKICAgICAgICBpZiAodGhpcy5yb2xlSWRzWzBdKSB7CiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnJvbGVHcm91cCkgewogICAgICAgICAgICBpZiAodGhpcy5yb2xlSWRzWzBdID09PSB0aGlzLnJvbGVHcm91cFtrZXldLnJvbGVJZCkgewogICAgICAgICAgICAgIHRoaXMucm9sZU5hbWUgPSB0aGlzLnJvbGVHcm91cFtrZXldLnJvbGVOYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5yb2xlTmFtZSA9ICfmmoLml6AnCiAgICAgICAgfQogICAgICAgIHRoaXMuZGVwdCA9IHJlc3BvbnNlLmRhdGEudXNlci5kZXB0CiAgICAgICAgdGhpcy5kZXB0TmFtZSA9IHRoaXMuZGVwdC5kZXB0TmFtZQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/profile","sourcesContent":["<template>\n  <BasicLayout>\n    <template #wrapper>\n      <el-row :gutter=\"10\">\n        <el-col :span=\"6\" :xs=\"24\">\n          <el-card class=\"box-card\">\n            <div slot=\"header\" class=\"clearfix\">\n              <span>个人信息</span>\n            </div>\n            <div>\n              <div class=\"text-center\">\n                <userAvatar :user=\"user\" />\n              </div>\n              <ul class=\"list-group list-group-striped\">\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"user\" />用户名称\n                  <div class=\"pull-right\">{{ user.username }}</div>\n                </li>\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"phone\" />手机号码\n                  <div class=\"pull-right\">{{ user.phone }}</div>\n                </li>\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"email\" />用户邮箱\n                  <div class=\"pull-right\">{{ user.email }}</div>\n                </li>\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"tree\" />所属部门\n                  <div class=\"pull-right\">{{ deptName }}</div>\n                </li>\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"peoples\" />所属角色\n                  <div class=\"pull-right\">{{ roleName }}</div>\n                </li>\n                <li class=\"list-group-item\">\n                  <svg-icon icon-class=\"date\" />创建日期\n                  <div class=\"pull-right\">{{ user.createdAt }}</div>\n                </li>\n              </ul>\n            </div>\n          </el-card>\n        </el-col>\n        <el-col :span=\"18\" :xs=\"24\">\n          <el-card>\n            <div slot=\"header\" class=\"clearfix\">\n              <span>基本资料</span>\n            </div>\n            <el-tabs v-model=\"activeTab\">\n              <el-tab-pane label=\"基本资料\" name=\"userinfo\">\n                <userInfo :user=\"user\" />\n              </el-tab-pane>\n              <el-tab-pane label=\"修改密码\" name=\"resetPwd\">\n                <resetPwd :user=\"user\" />\n              </el-tab-pane>\n            </el-tabs>\n          </el-card>\n        </el-col>\n      </el-row>\n    </template>\n  </BasicLayout>\n</template>\n\n<script>\nimport userAvatar from './userAvatar'\nimport userInfo from './userInfo'\nimport resetPwd from './resetPwd'\nimport { getUserProfile } from '@/api/admin/sys-user'\n\nexport default {\n  name: 'Profile',\n  components: { userAvatar, userInfo, resetPwd },\n  data() {\n    return {\n      user: {},\n      roleGroup: {},\n      postGroup: {},\n      deptGroup: {},\n      activeTab: 'userinfo',\n      roleIds: undefined,\n      postIds: undefined,\n      roleName: undefined,\n      postName: undefined,\n      dept: {},\n      deptName: undefined\n    }\n  },\n  created() {\n    this.getUser()\n  },\n  methods: {\n    getUser() {\n      getUserProfile().then(response => {\n        this.user = response.data.user\n        this.roleIds = response.data.user.roleIds\n        this.roleGroup = response.data.roles\n\n        if (this.roleIds[0]) {\n          for (const key in this.roleGroup) {\n            if (this.roleIds[0] === this.roleGroup[key].roleId) {\n              this.roleName = this.roleGroup[key].roleName\n            }\n          }\n        } else {\n          this.roleName = '暂无'\n        }\n        this.dept = response.data.user.dept\n        this.deptName = this.dept.deptName\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .list-group-item{\n    padding: 18px 0;\n  }\n  .svg-icon{\n    margin-right: 5px;\n  }\n</style>\n"]}]}